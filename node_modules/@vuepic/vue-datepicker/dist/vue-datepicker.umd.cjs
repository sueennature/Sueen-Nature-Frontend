(function(e,s){typeof exports=="object"&&typeof module<"u"?module.exports=s(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],s):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=s(e.Vue,e.dateFns))})(this,function(e,s){"use strict";function Ue(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ue.compatConfig={MODE:3};function xt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}xt.compatConfig={MODE:3};function pt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}pt.compatConfig={MODE:3};function gt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}gt.compatConfig={MODE:3};function yt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}yt.compatConfig={MODE:3};function ht(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ht.compatConfig={MODE:3};function kt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}kt.compatConfig={MODE:3};function qt(t){return n=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${n}T00:00:00+00:00`)).slice(0,2)}function Mn(t){return n=>s.format(new Date(`2017-01-0${n}T00:00:00+00:00`),"EEEEEE",{locale:t})}const Dn=(t,n,o)=>{const r=[1,2,3,4,5,6,7];let a;if(t!==null)try{a=r.map(Mn(t))}catch{a=r.map(qt(n))}else a=r.map(qt(n));const f=a.slice(0,o),i=a.slice(o+1,a.length);return[a[o]].concat(...i).concat(...f)},bt=(t,n)=>{const o=[];for(let r=+t[0];r<=+t[1];r++)o.push({value:+r,text:`${r}`});return n?o.reverse():o},Qt=(t,n,o)=>{const r=[1,2,3,4,5,6,7,8,9,10,11,12].map(f=>{const i=f<10?`0${f}`:f;return new Date(`2017-${i}-01T00:00:00+00:00`)});if(t!==null)try{const f=o==="long"?"MMMM":"MMM";return r.map((i,p)=>{const w=s.format(i,f,{locale:t});return{text:w.charAt(0).toUpperCase()+w.substring(1),value:p}})}catch{}const a=new Intl.DateTimeFormat(n,{month:o,timeZone:"UTC"});return r.map((f,i)=>{const p=a.format(f);return{text:p.charAt(0).toUpperCase()+p.substring(1),value:i}})},Sn=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ye=t=>{const n=e.unref(t);return n!=null&&n.$el?n==null?void 0:n.$el:n},Cn=t=>({type:"dot",...t??{}}),Gt=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,wt={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ge=t=>t,Xt=t=>t===0?t:!t||isNaN(+t)?null:+t,Jt=t=>t===null,Zt=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},Bn=t=>{const n=[],o=r=>r.filter(a=>a);for(let r=0;r<t.length;r+=3){const a=[t[r],t[r+1],t[r+2]];n.push(o(a))}return n},Ge=(t,n,o)=>{const r=o!=null,a=n!=null;if(!r&&!a)return!1;const f=+o,i=+n;return r&&a?+t>f||+t<i:r?+t>f:a?+t<i:!1},je=(t,n)=>Bn(t).map(o=>o.map(r=>{const{active:a,disabled:f,isBetween:i,highlighted:p}=n(r);return{...r,active:a,disabled:f,className:{dp__overlay_cell_active:a,dp__overlay_cell:!a,dp__overlay_cell_disabled:f,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:f&&a,dp__cell_in_between:i,"dp--highlighted":p}}})),Ne=(t,n,o=!1)=>{t&&n.allowStopPropagation&&(o&&t.stopImmediatePropagation(),t.stopPropagation())},$n=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function An(t,n){let o=[...document.querySelectorAll($n())];o=o.filter(a=>!t.contains(a)||a.hasAttribute("data-datepicker-instance"));const r=o.indexOf(t);if(r>=0&&(n?r-1>=0:r+1<=o.length))return o[r+(n?-1:1)]}const Tn=(t,n)=>t==null?void 0:t.querySelector(`[data-dp-element="${n}"]`),vt=t=>s.format(t,"dd-MM-yyyy"),Mt=t=>Array.isArray(t),rt=(t,n)=>n.get(vt(t)),Pn=(t,n)=>t?n?n instanceof Map?!!rt(t,n):n(_(t)):!1:!0,Ft=(t,n,o,r,a)=>{const f=s.parse(t,n.slice(0,t.length),new Date);return s.isValid(f)&&s.isDate(f)?r||a?f:s.set(f,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},Rn=(t,n,o,r,a)=>{const f=Array.isArray(o)?o[0]:o;if(typeof n=="string")return Ft(t,n,f,r,a);if(Array.isArray(n)){let i=null;for(const p of n)if(i=Ft(t,p,f,r,a),i)break;return i}return typeof n=="function"?n(t):null},_=t=>t?new Date(t):new Date,Nn=(t,n,o)=>{if(n){const a=(t.getMonth()+1).toString().padStart(2,"0"),f=t.getDate().toString().padStart(2,"0"),i=t.getHours().toString().padStart(2,"0"),p=t.getMinutes().toString().padStart(2,"0"),w=o?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${a}-${f}T${i}:${p}:${w}.000Z`}const r=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(r).toISOString()},be=t=>{let n=_(JSON.parse(JSON.stringify(t)));return n=s.setHours(n,0),n=s.setMinutes(n,0),n=s.setSeconds(n,0),n=s.setMilliseconds(n,0),n},Ee=(t,n,o,r)=>{let a=t?_(t):_();return(n||n===0)&&(a=s.setHours(a,+n)),(o||o===0)&&(a=s.setMinutes(a,+o)),(r||r===0)&&(a=s.setSeconds(a,+r)),s.setMilliseconds(a,0)},me=(t,n)=>!t||!n?!1:s.isBefore(be(t),be(n)),ue=(t,n)=>!t||!n?!1:s.isEqual(be(t),be(n)),pe=(t,n)=>!t||!n?!1:s.isAfter(be(t),be(n)),lt=(t,n,o)=>t!=null&&t[0]&&(t!=null&&t[1])?pe(o,t[0])&&me(o,t[1]):t!=null&&t[0]&&n?pe(o,t[0])&&me(o,n)||me(o,t[0])&&pe(o,n):!1,Me=t=>{const n=s.set(new Date(t),{date:1});return be(n)},Dt=(t,n,o)=>n&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(r=>r===n?[r,o]:[r,isNaN(+t[r])?void 0:+t[r]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},ze=t=>({hours:s.getHours(t),minutes:s.getMinutes(t),seconds:s.getSeconds(t)}),en=(t,n)=>{if(n){const o=s.getYear(_(n));if(o>t)return 12;if(o===t)return s.getMonth(_(n))}},tn=(t,n)=>{if(n){const o=s.getYear(_(n));return o<t?-1:o===t?s.getMonth(_(n)):void 0}},xe=t=>{if(t)return s.getYear(_(t))},nn=(t,n)=>{const o=pe(t,n)?n:t,r=pe(n,t)?n:t;return s.eachDayOfInterval({start:o,end:r})},En=t=>{const n=s.addMonths(t,1);return{month:s.getMonth(n),year:s.getYear(n)}},Te=(t,n)=>{const o=s.startOfWeek(t,{weekStartsOn:+n}),r=s.endOfWeek(t,{weekStartsOn:+n});return[o,r]},an=(t,n)=>{const o={hours:s.getHours(_()),minutes:s.getMinutes(_()),seconds:n?s.getSeconds(_()):0};return Object.assign(o,t)},_e=(t,n,o)=>[s.set(_(t),{date:1}),s.set(_(),{month:n,year:o,date:1})],Pe=(t,n,o)=>{let r=t?_(t):_();return(n||n===0)&&(r=s.setMonth(r,n)),o&&(r=s.setYear(r,o)),r},rn=(t,n,o,r,a)=>{if(!r||a&&!n||!a&&!o)return!1;const f=a?s.addMonths(t,1):s.subMonths(t,1),i=[s.getMonth(f),s.getYear(f)];return a?!Vn(...i,n):!_n(...i,o)},_n=(t,n,o)=>me(..._e(o,t,n))||ue(..._e(o,t,n)),Vn=(t,n,o)=>pe(..._e(o,t,n))||ue(..._e(o,t,n)),ln=(t,n,o,r,a,f,i)=>{if(typeof n=="function"&&!i)return n(t);const p=o?{locale:o}:void 0;return Array.isArray(t)?`${s.format(t[0],f,p)}${a&&!t[1]?"":r}${t[1]?s.format(t[1],f,p):""}`:s.format(t,f,p)},qe=t=>{if(t)return null;throw new Error(wt.prop("partial-range"))},ot=(t,n)=>{if(n)return t();throw new Error(wt.prop("range"))},St=t=>Array.isArray(t)?s.isValid(t[0])&&(t[1]?s.isValid(t[1]):!0):t?s.isValid(t):!1,Yn=(t,n)=>s.set(n??_(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),Ct=(t,n,o,r)=>{if(!t)return!0;if(r){const a=o==="max"?s.isBefore(t,n):s.isAfter(t,n),f={seconds:0,milliseconds:0};return a||s.isEqual(s.set(t,f),s.set(n,f))}return o==="max"?t.getTime()<=n.getTime():t.getTime()>=n.getTime()},Bt=(t,n,o)=>t?Yn(t,n):_(o??n),on=(t,n,o,r,a)=>{if(Array.isArray(r)){const i=Bt(t,r[0],n),p=Bt(t,r[1],n);return Ct(r[0],i,o,!!n)&&Ct(r[1],p,o,!!n)&&a}const f=Bt(t,r,n);return Ct(r,f,o,!!n)&&a},$t=t=>s.set(_(),ze(t)),On=(t,n)=>t instanceof Map?Array.from(t.values()).filter(o=>s.getYear(_(o))===n).map(o=>s.getMonth(o)):[],sn=(t,n,o)=>typeof t=="function"?t({month:n,year:o}):!!t.months.find(r=>r.month===n&&r.year===o),At=(t,n)=>typeof t=="function"?t(n):t.years.includes(n),Xe=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),un=()=>{const t=r=>{Xe.menuFocused=r},n=r=>{Xe.shiftKeyInMenu!==r&&(Xe.shiftKeyInMenu=r)};return{control:e.computed(()=>({shiftKeyInMenu:Xe.shiftKeyInMenu,menuFocused:Xe.menuFocused})),setMenuFocused:t,setShiftKey:n}},de=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Tt=e.ref(null),st=e.ref(!1),Pt=e.ref(!1),Rt=e.ref(!1),Nt=e.ref(!1),ke=e.ref(0),he=e.ref(0),Ve=()=>{const t=e.computed(()=>st.value?[...de.selectionGrid,de.actionRow].filter(A=>A.length):Pt.value?[...de.timePicker[0],...de.timePicker[1],Nt.value?[]:[Tt.value],de.actionRow].filter(A=>A.length):Rt.value?[...de.monthPicker,de.actionRow]:[de.monthYear,...de.calendar,de.time,de.actionRow].filter(A=>A.length)),n=A=>{ke.value=A?ke.value+1:ke.value-1;let L=null;t.value[he.value]&&(L=t.value[he.value][ke.value]),L||(ke.value=A?ke.value-1:ke.value+1)},o=A=>{if(he.value===0&&!A||he.value===t.value.length&&A)return;he.value=A?he.value+1:he.value-1,t.value[he.value]?t.value[he.value]&&!t.value[he.value][ke.value]&&ke.value!==0&&(ke.value=t.value[he.value].length-1):he.value=A?he.value-1:he.value+1},r=A=>{let L=null;t.value[he.value]&&(L=t.value[he.value][ke.value]),L?L.focus({preventScroll:!st.value}):ke.value=A?ke.value-1:ke.value+1},a=()=>{n(!0),r(!0)},f=()=>{n(!1),r(!1)},i=()=>{o(!1),r(!0)},p=()=>{o(!0),r(!0)},w=(A,L)=>{de[L]=A},R=(A,L)=>{de[L]=A},y=()=>{ke.value=0,he.value=0};return{buildMatrix:w,buildMultiLevelMatrix:R,setTimePickerBackRef:A=>{Tt.value=A},setSelectionGrid:A=>{st.value=A,y(),A||(de.selectionGrid=[])},setTimePicker:(A,L=!1)=>{Pt.value=A,Nt.value=L,y(),A||(de.timePicker[0]=[],de.timePicker[1]=[])},setTimePickerElements:(A,L=0)=>{de.timePicker[L]=A},arrowRight:a,arrowLeft:f,arrowUp:i,arrowDown:p,clearArrowNav:()=>{de.monthYear=[],de.calendar=[],de.time=[],de.actionRow=[],de.selectionGrid=[],de.timePicker[0]=[],de.timePicker[1]=[],st.value=!1,Pt.value=!1,Nt.value=!1,Rt.value=!1,y(),Tt.value=null},setMonthPicker:A=>{Rt.value=A,y()},refSets:de}},Ye=(t,n)=>n?new Date(t.toLocaleString("en-US",{timeZone:n})):new Date(t),cn=(t,n)=>{const o=Et(t,n);return o||_()},In=(t,n)=>n.dateInTz?Ye(new Date(t),n.dateInTz):_(t),Et=(t,n)=>{if(!t)return null;if(!n)return _(t);const o=_(t);return n.exactMatch?In(t,n):Ye(o,n.timezone)},dn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),zn=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:n=>`Increment ${n}`,decrementValue:n=>`Decrement ${n}`,openTpOverlay:n=>`Open ${n} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...t??{}}),fn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,Ln=t=>{const n=typeof t=="object"&&t,o={static:!0,solo:!1};if(!t)return{...o,count:fn(!1)};const r=n?t:{},a=n?r.count??!0:t,f=fn(a);return Object.assign(o,r,{count:f})},Kn=(t,n,o)=>t||(typeof o=="string"?o:n),Hn=t=>typeof t=="boolean"?t?dn({}):!1:dn(t),Wn=t=>{const n={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof t=="object"?{...n,...t??{},enabled:!0}:{...n,enabled:t}},Un=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),jn=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),xn=t=>{const n={input:!1};return typeof t=="object"?{...n,...t??{},enabled:!0}:{enabled:t,...n}},qn=t=>({...{allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0},...t??{}}),Qn=t=>{const n={dates:Array.isArray(t)?t.map(o=>_(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof t=="function"?t:{...n,...t??{}}},Gn=t=>typeof t=="object"?{type:(t==null?void 0:t.type)??"local",hideOnOffsetDates:(t==null?void 0:t.hideOnOffsetDates)??!1}:{type:t,hideOnOffsetDates:!1},Xn=(t,n)=>{const o={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof t=="object"?{enabled:!0,...o,...t}:{enabled:t,noDisabledRange:n.noDisabledRange,showLastInRange:n.showLastInRange,minMaxRawRange:n.minMaxRawRange,partialRange:n.partialRange,disableTimeRangeValidation:n.disableTimeRangeValidation,maxRange:n.maxRange,minRange:n.minRange,autoRange:n.autoRange,fixedStart:n.fixedStart,fixedEnd:n.fixedEnd}},Jn=(t,n)=>t?typeof t=="string"?{timezone:t,exactMatch:!1,dateInTz:void 0,emitTimezone:n}:{timezone:t.timezone,exactMatch:t.exactMatch??!1,dateInTz:t.dateInTz??void 0,emitTimezone:n??t.emitTimezone}:{timezone:void 0,exactMatch:!1,emitTimezone:n},_t=(t,n)=>new Map(t.map(o=>{const r=cn(o,n);return[vt(r),r]})),Zn=(t,n)=>t.length?new Map(t.map(o=>{const r=cn(o.date,n);return[vt(r),o]})):null,Fn=(t,n,o,r,a,f,i)=>({minDate:Et(t,i),maxDate:Et(n,i),disabledDates:Mt(o)?_t(o,i):o,allowedDates:Mt(r)?_t(r,i):null,highlight:typeof a=="object"&&Mt(a==null?void 0:a.dates)?_t(a.dates,i):a,markers:Zn(f,i)}),fe=t=>{const n=()=>{const S=t.enableSeconds?":ss":"";return t.is24?`HH:mm${S}`:`hh:mm${S} aa`},o=()=>{var S;return t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?n():t.weekPicker?`${((S=q.value)==null?void 0:S.type)==="iso"?"RR":"ww"}-yyyy`:t.yearPicker?"yyyy":t.quarterPicker?"QQQ/yyyy":t.enableTimePicker?`MM/dd/yyyy, ${n()}`:"MM/dd/yyyy"},r=S=>an(S,t.enableSeconds),a=()=>N.value.enabled?t.startTime&&Array.isArray(t.startTime)?[r(t.startTime[0]),r(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?r(t.startTime):null,f=e.computed(()=>Ln(t.multiCalendars)),i=e.computed(()=>a()),p=e.computed(()=>zn(t.ariaLabels)),w=e.computed(()=>Un(t.filters)),R=e.computed(()=>Hn(t.transitions)),y=e.computed(()=>jn(t.actionRow)),D=e.computed(()=>Kn(t.previewFormat,t.format,o())),E=e.computed(()=>Wn(t.textInput)),P=e.computed(()=>xn(t.inline)),K=e.computed(()=>qn(t.config)),h=e.computed(()=>Qn(t.highlight)),q=e.computed(()=>Gn(t.weekNumbers)),A=e.computed(()=>Jn(t.timezone,t.emitTimezone)),L=e.computed(()=>Fn(t.minDate,t.maxDate,t.disabledDates,t.allowedDates,h.value,t.markers,A.value)),N=e.computed(()=>Xn(t.range,{minMaxRawRange:!1,maxRange:t.maxRange,minRange:t.minRange,noDisabledRange:t.noDisabledRange,showLastInRange:t.showLastInRange,partialRange:t.partialRange,disableTimeRangeValidation:t.disableTimeRangeValidation,autoRange:t.autoRange,fixedStart:t.fixedStart,fixedEnd:t.fixedEnd}));return{defaultedTransitions:R,defaultedMultiCalendars:f,defaultedStartTime:i,defaultedAriaLabels:p,defaultedFilters:w,defaultedActionRow:y,defaultedPreviewFormat:D,defaultedTextInput:E,defaultedInline:P,defaultedConfig:K,defaultedHighlight:h,defaultedWeekNumbers:q,defaultedRange:N,propDates:L,defaultedTz:A,getDefaultPattern:o,getDefaultStartTime:a}},ea=(t,n,o)=>{const r=e.ref(),{defaultedTextInput:a,defaultedRange:f,defaultedTz:i,getDefaultPattern:p}=fe(n),w=e.ref(""),R=e.toRef(n,"format");e.watch(r,()=>{t("internal-model-change",r.value)},{deep:!0}),e.watch(R,()=>{T()});const y=(l,k,H=!1)=>ln(l,n.format,n.formatLocale,a.value.rangeSeparator,n.modelAuto,k??p(),H),D=l=>l?n.modelType?c(l):{hours:s.getHours(l),minutes:s.getMinutes(l),seconds:n.enableSeconds?s.getSeconds(l):0}:null,E=l=>n.modelType?c(l):{month:s.getMonth(l),year:s.getYear(l)},P=l=>Array.isArray(l)?n.multiDates?l.map(k=>K(k,s.setYear(_(),k))):ot(()=>[s.setYear(_(),l[0]),l[1]?s.setYear(_(),l[1]):qe(f.value.partialRange)],f.value.enabled):s.setYear(_(),+l),K=(l,k)=>(typeof l=="string"||typeof l=="number")&&n.modelType?V(l):k,h=l=>Array.isArray(l)?[K(l[0],Ee(null,+l[0].hours,+l[0].minutes,l[0].seconds)),K(l[1],Ee(null,+l[1].hours,+l[1].minutes,l[1].seconds))]:K(l,Ee(null,l.hours,l.minutes,l.seconds)),q=l=>{const k=s.set(_(),{date:1});return Array.isArray(l)?n.multiDates?l.map(H=>K(H,Pe(k,+H.month,+H.year))):ot(()=>[K(l[0],Pe(k,+l[0].month,+l[0].year)),K(l[1],l[1]?Pe(k,+l[1].month,+l[1].year):qe(f.value.partialRange))],f.value.enabled):K(l,Pe(k,+l.month,+l.year))},A=l=>{if(Array.isArray(l))return l.map(k=>V(k));throw new Error(wt.dateArr("multi-dates"))},L=l=>{if(Array.isArray(l)&&f.value.enabled){const k=l[0],H=l[1];return[_(Array.isArray(k)?k[0]:null),_(Array.isArray(H)?H[0]:null)]}return _(l[0])},N=l=>n.modelAuto?Array.isArray(l)?[V(l[0]),V(l[1])]:n.autoApply?[V(l)]:[V(l),null]:Array.isArray(l)?ot(()=>l[1]?[V(l[0]),l[1]?V(l[1]):qe(f.value.partialRange)]:[V(l[0])],f.value.enabled):V(l),S=()=>{Array.isArray(r.value)&&f.value.enabled&&r.value.length===1&&r.value.push(qe(f.value.partialRange))},M=()=>{const l=r.value;return[c(l[0]),l[1]?c(l[1]):qe(f.value.partialRange)]},j=()=>r.value[1]?M():c(ge(r.value[0])),J=()=>(r.value||[]).map(l=>c(l)),C=()=>(S(),n.modelAuto?j():n.multiDates?J():Array.isArray(r.value)?ot(()=>M(),f.value.enabled):c(ge(r.value))),F=l=>!l||Array.isArray(l)&&!l.length?null:n.timePicker?h(ge(l)):n.monthPicker?q(ge(l)):n.yearPicker?P(ge(l)):n.multiDates?A(ge(l)):n.weekPicker?L(ge(l)):N(ge(l)),ne=l=>{const k=F(l);St(ge(k))?(r.value=ge(k),T()):(r.value=null,w.value="")},v=()=>{const l=k=>s.format(k,a.value.format);return`${l(r.value[0])} ${a.value.rangeSeparator} ${r.value[1]?l(r.value[1]):""}`},z=()=>o.value&&r.value?Array.isArray(r.value)?v():s.format(r.value,a.value.format):y(r.value),X=()=>r.value?n.multiDates?r.value.map(l=>y(l)).join("; "):a.value.enabled&&typeof a.value.format=="string"?z():y(r.value):"",T=()=>{!n.format||typeof n.format=="string"||a.value.enabled&&typeof a.value.format=="string"?w.value=X():w.value=n.format(r.value)},V=l=>{if(n.utc){const k=new Date(l);return n.utc==="preserve"?new Date(k.getTime()+k.getTimezoneOffset()*6e4):k}return n.modelType?n.modelType==="date"||n.modelType==="timestamp"?new Date(l):n.modelType==="format"&&(typeof n.format=="string"||!n.format)?s.parse(l,p(),new Date):s.parse(l,n.modelType,new Date):new Date(l)},c=l=>l?n.utc?Nn(l,n.utc==="preserve",n.enableSeconds):n.modelType?n.modelType==="timestamp"?+l:n.modelType==="format"&&(typeof n.format=="string"||!n.format)?y(l):y(l,n.modelType,!0):l:"",d=(l,k=!1)=>{if(t("update:model-value",l),i.value.emitTimezone&&k){const H=Array.isArray(l)?l.map(u=>Ye(ge(u),i.value.emitTimezone)):Ye(ge(l),i.value.emitTimezone);t("update:model-timezone-value",H)}},x=l=>Array.isArray(r.value)?n.multiDates?r.value.map(k=>l(k)):[l(r.value[0]),r.value[1]?l(r.value[1]):qe(f.value.partialRange)]:l(ge(r.value)),ee=()=>{if(Array.isArray(r.value)){const l=Te(r.value[0],n.weekStart),k=r.value[1]?Te(r.value[1],n.weekStart):[];return[l.map(H=>_(H)),k.map(H=>_(H))]}return Te(r.value,n.weekStart).map(l=>_(l))},O=l=>d(ge(x(l)));return{inputValue:w,internalModelValue:r,checkBeforeEmit:()=>r.value?f.value.enabled?f.value.partialRange?r.value.length>=1:r.value.length===2:!!r.value:!1,parseExternalModelValue:ne,formatInputValue:T,emitModelValue:()=>(T(),n.monthPicker?O(E):n.timePicker?O(D):n.yearPicker?O(s.getYear):n.weekPicker?t("update:model-value",ee()):d(C(),!0))}},ta=(t,n)=>{const{defaultedFilters:o,propDates:r}=fe(t),{validateMonthYearInRange:a}=Ie(t),f=(y,D)=>{let E=y;return o.value.months.includes(s.getMonth(E))?(E=D?s.addMonths(y,1):s.subMonths(y,1),f(E,D)):E},i=(y,D)=>{let E=y;return o.value.years.includes(s.getYear(E))?(E=D?s.addYears(y,1):s.subYears(y,1),i(E,D)):E},p=(y,D=!1)=>{const E=s.set(_(),{month:t.month,year:t.year});let P=y?s.addMonths(E,1):s.subMonths(E,1);t.disableYearSelect&&(P=s.setYear(P,t.year));let K=s.getMonth(P),h=s.getYear(P);o.value.months.includes(K)&&(P=f(P,y),K=s.getMonth(P),h=s.getYear(P)),o.value.years.includes(h)&&(P=i(P,y),h=s.getYear(P)),a(K,h,y,t.preventMinMaxNavigation)&&w(K,h,D)},w=(y,D,E)=>{n("update-month-year",{month:y,year:D,fromNav:E})},R=e.computed(()=>y=>rn(s.set(_(),{month:t.month,year:t.year}),r.value.maxDate,r.value.minDate,t.preventMinMaxNavigation,y));return{handleMonthYearChange:p,isDisabled:R,updateMonthYear:w}};var Qe=(t=>(t.center="center",t.left="left",t.right="right",t))(Qe||{}),De=(t=>(t.month="month",t.year="year",t))(De||{}),Le=(t=>(t.top="top",t.bottom="bottom",t))(Le||{}),Ke=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ke||{}),Be=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Be||{});const na=({menuRef:t,menuRefInner:n,inputRef:o,pickerWrapperRef:r,inline:a,emit:f,props:i,slots:p})=>{const w=e.ref({}),R=e.ref(!1),y=e.ref({top:"0",left:"0"}),D=e.ref(!1),E=e.toRef(i,"teleportCenter");e.watch(E,()=>{y.value=JSON.parse(JSON.stringify({})),S()});const P=c=>{if(i.teleport){const d=c.getBoundingClientRect();return{left:d.left+window.scrollX,top:d.top+window.scrollY}}return{top:0,left:0}},K=(c,d)=>{y.value.left=`${c+d-w.value.width}px`},h=c=>{y.value.left=`${c}px`},q=(c,d)=>{i.position===Qe.left&&h(c),i.position===Qe.right&&K(c,d),i.position===Qe.center&&(y.value.left=`${c+d/2-w.value.width/2}px`)},A=c=>{const{width:d,height:x}=c.getBoundingClientRect(),{top:ee,left:O}=i.altPosition?i.altPosition(c):P(c);return{top:+ee,left:+O,width:d,height:x}},L=()=>{y.value.left="50%",y.value.top="50%",y.value.transform="translate(-50%, -50%)",y.value.position="fixed",delete y.value.opacity},N=()=>{const c=ye(o),{top:d,left:x,transform:ee}=i.altPosition(c);y.value={top:`${d}px`,left:`${x}px`,transform:ee??""}},S=(c=!0)=>{var d;if(!a.value.enabled){if(E.value)return L();if(i.altPosition!==null)return N();if(c){const x=i.teleport?(d=n.value)==null?void 0:d.$el:t.value;x&&(w.value=x.getBoundingClientRect()),f("recalculate-position")}return v()}},M=({inputEl:c,left:d,width:x})=>{window.screen.width>768&&!R.value&&q(d,x),C(c)},j=c=>{const{top:d,left:x,height:ee,width:O}=A(c);y.value.top=`${ee+d+ +i.offset}px`,D.value=!1,R.value||(y.value.left=`${x+O/2-w.value.width/2}px`),M({inputEl:c,left:x,width:O})},J=c=>{const{top:d,left:x,width:ee}=A(c);y.value.top=`${d-+i.offset-w.value.height}px`,D.value=!0,M({inputEl:c,left:x,width:ee})},C=c=>{if(i.autoPosition){const{left:d,width:x}=A(c),{left:ee,right:O}=w.value;if(!R.value){if(Math.abs(ee)!==Math.abs(O)){if(ee<=0)return R.value=!0,h(d);if(O>=document.documentElement.clientWidth)return R.value=!0,K(d,x)}return q(d,x)}}},F=()=>{const c=ye(o);if(c){const{height:d}=w.value,{top:x,height:ee}=c.getBoundingClientRect(),g=window.innerHeight-x-ee,I=x;return d<=g?Le.bottom:d>g&&d<=I?Le.top:g>=I?Le.bottom:Le.top}return Le.bottom},ne=c=>F()===Le.bottom?j(c):J(c),v=()=>{const c=ye(o);if(c)return i.autoPosition?ne(c):j(c)},z=function(c){if(c){const d=c.scrollHeight>c.clientHeight,ee=window.getComputedStyle(c).overflowY.indexOf("hidden")!==-1;return d&&!ee}return!0},X=function(c){return!c||c===document.body||c.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:z(c)?c:X(c.parentNode)},T=c=>{if(c)switch(i.position){case Qe.left:return{left:0,transform:"translateX(0)"};case Qe.right:return{left:`${c.width}px`,transform:"translateX(-100%)"};default:return{left:`${c.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:D,menuStyle:y,xCorrect:R,setMenuPosition:S,getScrollableParent:X,shadowRender:(c,d)=>{var l,k,H;const x=document.createElement("div"),ee=(l=ye(o))==null?void 0:l.getBoundingClientRect();x.setAttribute("id","dp--temp-container");const O=(k=r.value)!=null&&k.clientWidth?r.value:document.body;O.append(x);const g=T(ee),I=e.h(c,{...d,shadow:!0,style:{opacity:0,position:"absolute",...g}},Object.fromEntries(Object.keys(p).filter(u=>["right-sidebar","left-sidebar"].includes(u)).map(u=>[u,p[u]])));e.render(I,x),w.value=(H=I.el)==null?void 0:H.getBoundingClientRect(),e.render(null,x),O.removeChild(x)}}},Oe=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],aa=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],ra={all:()=>Oe,monthYear:()=>Oe.filter(t=>t.use.includes("month-year")),input:()=>aa,timePicker:()=>Oe.filter(t=>t.use.includes("time")),action:()=>Oe.filter(t=>t.use.includes("action")),calendar:()=>Oe.filter(t=>t.use.includes("calendar")),menu:()=>Oe.filter(t=>t.use.includes("menu")),shared:()=>Oe.filter(t=>t.use.includes("shared")),yearMode:()=>Oe.filter(t=>t.use.includes("year-mode"))},we=(t,n,o)=>{const r=[];return ra[n]().forEach(a=>{t[a.name]&&r.push(a.name)}),o!=null&&o.length&&o.forEach(a=>{a.slot&&r.push(a.slot)}),r},Je=t=>{const n=e.computed(()=>r=>t.value?r?t.value.open:t.value.close:""),o=e.computed(()=>r=>t.value?r?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:n,showTransition:!!t.value,menuTransition:o}},Ze=(t,n)=>{const{defaultedRange:o,defaultedTz:r}=fe(t),a=_(Ye(_(),r.value.timezone)),f=e.ref([{month:s.getMonth(a),year:s.getYear(a)}]),i=e.reactive({hours:o.value.enabled?[s.getHours(a),s.getHours(a)]:s.getHours(a),minutes:o.value.enabled?[s.getMinutes(a),s.getMinutes(a)]:s.getMinutes(a),seconds:o.value.enabled?[0,0]:0}),p=e.computed({get:()=>t.internalModelValue,set:y=>{!t.readonly&&!t.disabled&&n("update:internal-model-value",y)}}),w=e.computed(()=>y=>f.value[y]?f.value[y].month:0),R=e.computed(()=>y=>f.value[y]?f.value[y].year:0);return{calendars:f,time:i,modelValue:p,month:w,year:R}},la=(t,n)=>{const{defaultedMultiCalendars:o,defaultedHighlight:r,defaultedTz:a,propDates:f,defaultedRange:i}=fe(n),{isDisabled:p}=Ie(n),w=e.ref(null),R=e.ref(Ye(new Date,a.value.timezone)),y=l=>{!l.current&&n.hideOffsetDates||(w.value=l.value)},D=()=>{w.value=null},E=l=>Array.isArray(t.value)&&i.value.enabled&&t.value[0]&&w.value?l?pe(w.value,t.value[0]):me(w.value,t.value[0]):!0,P=(l,k)=>{const H=()=>t.value?k?t.value[0]||null:t.value[1]:null,u=t.value&&Array.isArray(t.value)?H():null;return ue(_(l.value),u)},K=l=>{const k=Array.isArray(t.value)?t.value[0]:null;return l?!me(w.value??null,k):!0},h=(l,k=!0)=>(i.value.enabled||n.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?n.hideOffsetDates&&!l.current?!1:ue(_(l.value),t.value[k?0:1]):i.value.enabled?P(l,k)&&K(k)||ue(l.value,Array.isArray(t.value)?t.value[0]:null)&&E(k):!1,q=(l,k,H)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?l?!1:H?pe(t.value[0],k.value):me(t.value[0],k.value):!1,A=l=>!t.value||n.hideOffsetDates&&!l.current?!1:i.value.enabled?n.modelAuto&&Array.isArray(t.value)?ue(l.value,t.value[0]?t.value[0]:R.value):!1:n.multiDates&&Array.isArray(t.value)?t.value.some(k=>ue(k,l.value)):ue(l.value,t.value?t.value:R.value),L=l=>{if(i.value.autoRange||n.weekPicker){if(w.value){if(n.hideOffsetDates&&!l.current)return!1;const k=s.addDays(w.value,+i.value.autoRange),H=Te(_(w.value),n.weekStart);return n.weekPicker?ue(H[1],_(l.value)):ue(k,_(l.value))}return!1}return!1},N=l=>{if(i.value.autoRange||n.weekPicker){if(w.value){const k=s.addDays(w.value,+i.value.autoRange);if(n.hideOffsetDates&&!l.current)return!1;const H=Te(_(w.value),n.weekStart);return n.weekPicker?pe(l.value,H[0])&&me(l.value,H[1]):pe(l.value,w.value)&&me(l.value,k)}return!1}return!1},S=l=>{if(i.value.autoRange||n.weekPicker){if(w.value){if(n.hideOffsetDates&&!l.current)return!1;const k=Te(_(w.value),n.weekStart);return n.weekPicker?ue(k[0],l.value):ue(w.value,l.value)}return!1}return!1},M=l=>lt(t.value,w.value,l.value),j=()=>n.modelAuto&&Array.isArray(n.internalModelValue)?!!n.internalModelValue[0]:!1,J=()=>n.modelAuto?Gt(n.internalModelValue):!0,C=l=>{if(Array.isArray(t.value)&&t.value.length||n.weekPicker)return!1;const k=i.value.enabled?!h(l)&&!h(l,!1):!0;return!p(l.value)&&!A(l)&&!(!l.current&&n.hideOffsetDates)&&k},F=l=>i.value.enabled?n.modelAuto?j()&&A(l):!1:A(l),ne=l=>r.value?Pn(l.value,f.value.highlight):!1,v=l=>{const k=p(l.value);return k&&(typeof r.value=="function"?!r.value(l.value,k):!r.value.options.highlightDisabled)},z=l=>{var k;return typeof r.value=="function"?r.value(l.value):(k=r.value.weekdays)==null?void 0:k.includes(l.value.getDay())},X=l=>(i.value.enabled||n.weekPicker)&&(!(o.value.count>0)||l.current)&&J()&&!(!l.current&&n.hideOffsetDates)&&!A(l)?M(l):!1,T=l=>{const{isRangeStart:k,isRangeEnd:H}=x(l),u=i.value.enabled?k||H:!1;return{dp__cell_offset:!l.current,dp__pointer:!n.disabled&&!(!l.current&&n.hideOffsetDates)&&!p(l.value),dp__cell_disabled:p(l.value),dp__cell_highlight:!v(l)&&(ne(l)||z(l))&&!F(l)&&!u&&!S(l)&&!(X(l)&&n.weekPicker)&&!H,dp__cell_highlight_active:!v(l)&&(ne(l)||z(l))&&F(l),dp__today:!n.noToday&&ue(l.value,R.value)&&l.current,"dp--past":me(l.value,R.value),"dp--future":pe(l.value,R.value)}},V=l=>({dp__active_date:F(l),dp__date_hover:C(l)}),c=l=>{if(t.value&&!Array.isArray(t.value)){const k=Te(t.value,n.weekStart);return{...O(l),dp__range_start:ue(k[0],l.value),dp__range_end:ue(k[1],l.value),dp__range_between_week:pe(l.value,k[0])&&me(l.value,k[1])}}return{...O(l)}},d=l=>{if(t.value&&Array.isArray(t.value)){const k=Te(t.value[0],n.weekStart),H=t.value[1]?Te(t.value[1],n.weekStart):[];return{...O(l),dp__range_start:ue(k[0],l.value)||ue(H[0],l.value),dp__range_end:ue(k[1],l.value)||ue(H[1],l.value),dp__range_between_week:pe(l.value,k[0])&&me(l.value,k[1])||pe(l.value,H[0])&&me(l.value,H[1]),dp__range_between:pe(l.value,k[1])&&me(l.value,H[0])}}return{...O(l)}},x=l=>{const k=o.value.count>0?l.current&&h(l)&&J():h(l)&&J(),H=o.value.count>0?l.current&&h(l,!1)&&J():h(l,!1)&&J();return{isRangeStart:k,isRangeEnd:H}},ee=l=>{const{isRangeStart:k,isRangeEnd:H}=x(l);return{dp__range_start:k,dp__range_end:H,dp__range_between:X(l),dp__date_hover_start:q(C(l),l,!0),dp__date_hover_end:q(C(l),l,!1)}},O=l=>({...ee(l),dp__cell_auto_range:N(l),dp__cell_auto_range_start:S(l),dp__cell_auto_range_end:L(l)}),g=l=>i.value.enabled?i.value.autoRange?O(l):n.modelAuto?{...V(l),...ee(l)}:n.weekPicker?d(l):ee(l):n.weekPicker?c(l):V(l);return{setHoverDate:y,clearHoverDate:D,getDayClassData:l=>n.hideOffsetDates&&!l.current?{}:{...T(l),...g(l),[n.dayClass?n.dayClass(l.value):""]:!0,[n.calendarCellClassName]:!!n.calendarCellClassName}}},Ie=t=>{const{defaultedFilters:n,defaultedRange:o,propDates:r}=fe(t),a=v=>r.value.disabledDates?typeof r.value.disabledDates=="function"?r.value.disabledDates(_(v)):!!rt(v,r.value.disabledDates):!1,f=v=>{const z=r.value.maxDate?pe(v,r.value.maxDate):!1,X=r.value.minDate?me(v,r.value.minDate):!1,T=a(v),c=n.value.months.map(g=>+g).includes(s.getMonth(v)),d=t.disabledWeekDays.length?t.disabledWeekDays.some(g=>+g===s.getDay(v)):!1,x=y(v),ee=s.getYear(v),O=ee<+t.yearRange[0]||ee>+t.yearRange[1];return!(z||X||T||c||O||d||x)},i=(v,z)=>me(..._e(r.value.minDate,v,z))||ue(..._e(r.value.minDate,v,z)),p=(v,z)=>pe(..._e(r.value.maxDate,v,z))||ue(..._e(r.value.maxDate,v,z)),w=(v,z,X)=>{let T=!1;return r.value.maxDate&&X&&p(v,z)&&(T=!0),r.value.minDate&&!X&&i(v,z)&&(T=!0),T},R=(v,z,X,T)=>{let V=!1;return T?r.value.minDate&&r.value.maxDate?V=w(v,z,X):(r.value.minDate&&i(v,z)||r.value.maxDate&&p(v,z))&&(V=!0):V=!0,V},y=v=>Array.isArray(r.value.allowedDates)&&!r.value.allowedDates.length?!0:r.value.allowedDates?!rt(v,r.value.allowedDates):!1,D=v=>!f(v),E=v=>o.value.noDisabledRange?!s.eachDayOfInterval({start:v[0],end:v[1]}).some(X=>D(X)):!0,P=v=>{if(v){const z=s.getYear(v);return z>=+t.yearRange[0]&&z<=t.yearRange[1]}return!0},K=(v,z)=>!!(Array.isArray(v)&&v[z]&&(o.value.maxRange||o.value.minRange)&&P(v[z])),h=(v,z,X=0)=>{if(K(z,X)&&P(v)){const T=s.differenceInCalendarDays(v,z[X]),V=nn(z[X],v),c=V.length===1?0:V.filter(x=>D(x)).length,d=Math.abs(T)-(o.value.minMaxRawRange?0:c);if(o.value.minRange&&o.value.maxRange)return d>=+o.value.minRange&&d<=+o.value.maxRange;if(o.value.minRange)return d>=+o.value.minRange;if(o.value.maxRange)return d<=+o.value.maxRange}return!0},q=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,A=v=>Array.isArray(v)?[v[0]?$t(v[0]):null,v[1]?$t(v[1]):null]:$t(v),L=(v,z,X)=>v.find(T=>+T.hours===s.getHours(z)&&T.minutes==="*"?!0:+T.minutes===s.getMinutes(z)&&+T.hours===s.getHours(z))&&X,N=(v,z,X)=>{const[T,V]=v,[c,d]=z;return!L(T,c,X)&&!L(V,d,X)&&X},S=(v,z)=>{const X=Array.isArray(z)?z:[z];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?N(t.disabledTimes,X,v):!X.some(T=>L(t.disabledTimes,T,v)):v},M=(v,z)=>{const X=Array.isArray(z)?[ze(z[0]),z[1]?ze(z[1]):void 0]:ze(z),T=!t.disabledTimes(X);return v&&T},j=(v,z)=>t.disabledTimes?Array.isArray(t.disabledTimes)?S(z,v):M(z,v):z,J=v=>{let z=!0;if(!v||q())return!0;const X=!r.value.minDate&&!r.value.maxDate?A(v):v;return(t.maxTime||r.value.maxDate)&&(z=on(t.maxTime,r.value.maxDate,"max",ge(X),z)),(t.minTime||r.value.minDate)&&(z=on(t.minTime,r.value.minDate,"min",ge(X),z)),j(v,z)},C=v=>{if(!t.monthPicker)return!0;let z=!0;const X=_(Me(v));if(r.value.minDate&&r.value.maxDate){const T=_(Me(r.value.minDate)),V=_(Me(r.value.maxDate));return pe(X,T)&&me(X,V)||ue(X,T)||ue(X,V)}if(r.value.minDate){const T=_(Me(r.value.minDate));z=pe(X,T)||ue(X,T)}if(r.value.maxDate){const T=_(Me(r.value.maxDate));z=me(X,T)||ue(X,T)}return z},F=e.computed(()=>v=>!t.enableTimePicker||t.ignoreTimeValidation?!0:J(v)),ne=e.computed(()=>v=>t.monthPicker?Array.isArray(v)&&(o.value.enabled||t.multiDates)?!v.filter(X=>!C(X)).length:C(v):!0);return{isDisabled:D,validateDate:f,validateMonthYearInRange:R,isDateRangeAllowed:E,checkMinMaxRange:h,isValidTime:J,isTimeValid:F,isMonthValid:ne}},it=()=>{const t=e.computed(()=>(r,a)=>r==null?void 0:r.includes(a)),n=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===0:!0),o=e.computed(()=>(r,a)=>r.count?r.solo?!0:a===r.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:n,showRightIcon:o}},oa=(t,n,o)=>{const r=e.ref(0),a=e.reactive({[Ke.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ke.calendar]:!1,[Ke.header]:!1}),f=e.computed(()=>t.monthPicker),i=D=>{var E;if((E=t.flow)!=null&&E.length){if(!D&&f.value)return y();a[D]=!0,Object.keys(a).filter(P=>!a[P]).length||y()}},p=()=>{var D;(D=t.flow)!=null&&D.length&&r.value!==-1&&(r.value+=1,n("flow-step",r.value),y())},w=()=>{r.value=-1},R=(D,E,...P)=>{var K,h;t.flow[r.value]===D&&o.value&&((h=(K=o.value)[E])==null||h.call(K,...P))},y=()=>{R(Be.month,"toggleMonthPicker",!0),R(Be.year,"toggleYearPicker",!0),R(Be.calendar,"toggleTimePicker",!1,!0),R(Be.time,"toggleTimePicker",!0,!0);const D=t.flow[r.value];(D===Be.hours||D===Be.minutes||D===Be.seconds)&&R(D,"toggleTimePicker",!0,!0,D)};return{childMount:i,updateFlowStep:p,resetFlow:w,flowStep:r}},ut={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},Se={...ut,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},sa={key:1,class:"dp__input_wrap"},ia=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],ua={key:2,class:"dp__clear_icon"},ca=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ut},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTextInput:f,defaultedAriaLabels:i,defaultedInline:p,defaultedConfig:w,defaultedRange:R,getDefaultPattern:y,getDefaultStartTime:D}=fe(a),{checkMinMaxRange:E}=Ie(a),P=e.ref(),K=e.ref(null),h=e.ref(!1),q=e.ref(!1),A=e.computed(()=>({dp__pointer:!a.disabled&&!a.readonly&&!f.value.enabled,dp__disabled:a.disabled,dp__input_readonly:!f.value.enabled,dp__input:!0,dp__input_icon_pad:!a.hideInputIcon,dp__input_valid:!!a.state,dp__input_invalid:a.state===!1,dp__input_focus:h.value||a.isMenuOpen,dp__input_reg:!f.value.enabled,[a.inputClassName]:!!a.inputClassName})),L=()=>{r("set-input-date",null),a.autoApply&&(r("set-empty-date"),P.value=null)},N=d=>{const x=D();return Rn(d,f.value.format??y(),x??an({},a.enableSeconds),a.inputValue,q.value)},S=d=>{const{rangeSeparator:x}=f.value,[ee,O]=d.split(`${x}`);if(ee){const g=N(ee.trim()),I=O?N(O.trim()):null,l=g&&I?[g,I]:[g];E(I,l,0)&&(P.value=g?l:null)}},M=()=>{q.value=!0},j=d=>{if(R.value.enabled)S(d);else if(a.multiDates){const x=d.split(";");P.value=x.map(ee=>N(ee.trim())).filter(ee=>ee)}else P.value=N(d)},J=d=>{var ee;const x=typeof d=="string"?d:(ee=d.target)==null?void 0:ee.value;x!==""?(f.value.openMenu&&!a.isMenuOpen&&r("open"),j(x),r("set-input-date",P.value)):L(),q.value=!1,r("update:input-value",x)},C=d=>{f.value.enabled?(j(d.target.value),f.value.enterSubmit&&St(P.value)&&a.inputValue!==""?(r("set-input-date",P.value,!0),P.value=null):f.value.enterSubmit&&a.inputValue===""&&(P.value=null,r("clear"))):v(d)},F=d=>{f.value.enabled&&f.value.tabSubmit&&j(d.target.value),f.value.tabSubmit&&St(P.value)&&a.inputValue!==""?(r("set-input-date",P.value,!0,!0),P.value=null):f.value.tabSubmit&&a.inputValue===""&&(P.value=null,r("clear",!0))},ne=()=>{var d;h.value=!0,r("focus"),f.value.enabled&&f.value.selectOnFocus&&((d=K.value)==null||d.select())},v=d=>{d.preventDefault(),Ne(d,w.value,!0),f.value.enabled&&f.value.openMenu&&!p.value.input&&!a.isMenuOpen?r("open"):f.value.enabled||r("toggle")},z=()=>{r("real-blur"),h.value=!1,(!a.isMenuOpen||p.value.enabled&&p.value.input)&&r("blur"),a.autoApply&&f.value.enabled&&P.value&&!a.isMenuOpen&&(r("set-input-date",P.value),r("select-date"),P.value=null)},X=d=>{Ne(d,w.value,!0),r("clear")},T=d=>{if(!f.value.enabled){if(d.code==="Tab")return;d.preventDefault()}};return n({focusInput:()=>{var d;(d=K.value)==null||d.focus({preventScroll:!0})},setParsedDate:d=>{P.value=d}}),(d,x)=>{var ee;return e.openBlock(),e.createElementBlock("div",{onClick:v},[d.$slots.trigger&&!d.$slots["dp-input"]&&!e.unref(p).enabled?e.renderSlot(d.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!d.$slots.trigger&&(!e.unref(p).enabled||e.unref(p).input)?(e.openBlock(),e.createElementBlock("div",sa,[d.$slots["dp-input"]&&!d.$slots.trigger&&(!e.unref(p).enabled||e.unref(p).enabled&&e.unref(p).input)?e.renderSlot(d.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:J,onEnter:C,onTab:F,onClear:X,onBlur:z,onKeypress:T,onPaste:M,openMenu:()=>d.$emit("open"),closeMenu:()=>d.$emit("close"),toggleMenu:()=>d.$emit("toggle")}):e.createCommentVNode("",!0),d.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,id:d.uid?`dp-input-${d.uid}`:void 0,ref_key:"inputRef",ref:K,name:d.name,class:e.normalizeClass(A.value),inputmode:e.unref(f).enabled?"text":"none",placeholder:d.placeholder,disabled:d.disabled,readonly:d.readonly,required:d.required,value:t.inputValue,autocomplete:d.autocomplete,"aria-label":(ee=e.unref(i))==null?void 0:ee.input,"aria-disabled":d.disabled||void 0,"aria-invalid":d.state===!1?!0:void 0,onInput:J,onKeydown:[e.withKeys(C,["enter"]),e.withKeys(F,["tab"]),T],onBlur:z,onFocus:ne,onKeypress:T,onPaste:M},null,42,ia)),e.createElementVNode("div",{onClick:x[2]||(x[2]=O=>r("toggle"))},[d.$slots["input-icon"]&&!d.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:x[0]||(x[0]=O=>r("toggle"))},[e.renderSlot(d.$slots,"input-icon")])):e.createCommentVNode("",!0),!d.$slots["input-icon"]&&!d.hideInputIcon&&!d.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Ue),{key:1,class:"dp__input_icon dp__input_icons",onClick:x[1]||(x[1]=O=>r("toggle"))})):e.createCommentVNode("",!0)]),d.$slots["clear-icon"]&&t.inputValue&&d.clearable&&!d.disabled&&!d.readonly?(e.openBlock(),e.createElementBlock("span",ua,[e.renderSlot(d.$slots,"clear-icon",{clear:X})])):e.createCommentVNode("",!0),d.clearable&&!d.$slots["clear-icon"]&&t.inputValue&&!d.disabled&&!d.readonly?(e.openBlock(),e.createBlock(e.unref(xt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:x[3]||(x[3]=e.withModifiers(O=>X(O),["prevent"]))})):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),da=["title"],fa=["disabled"],ma=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Se},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:n}){const o=n,r=t,{defaultedActionRow:a,defaultedPreviewFormat:f,defaultedMultiCalendars:i,defaultedTextInput:p,defaultedInline:w,defaultedRange:R,getDefaultPattern:y}=fe(r),{isTimeValid:D,isMonthValid:E}=Ie(r),{buildMatrix:P}=Ve(),K=e.ref(null),h=e.ref(null),q=e.ref(!1),A=e.ref({}),L=e.ref(null),N=e.ref(null);e.onMounted(()=>{r.arrowNavigation&&P([ye(K),ye(h)],"actionRow"),S(),window.addEventListener("resize",S)}),e.onUnmounted(()=>{window.removeEventListener("resize",S)});const S=()=>{q.value=!1,setTimeout(()=>{var c,d;const T=(c=L.value)==null?void 0:c.getBoundingClientRect(),V=(d=N.value)==null?void 0:d.getBoundingClientRect();T&&V&&(A.value.maxWidth=`${V.width-T.width-20}px`),q.value=!0},0)},M=e.computed(()=>R.value.enabled&&!R.value.partialRange&&r.internalModelValue?r.internalModelValue.length===2:!0),j=e.computed(()=>!D.value(r.internalModelValue)||!E.value(r.internalModelValue)||!M.value),J=()=>{const T=f.value;return r.timePicker||r.monthPicker,T(ge(r.internalModelValue))},C=()=>{const T=r.internalModelValue;return i.value.count>0?`${F(T[0])} - ${F(T[1])}`:[F(T[0]),F(T[1])]},F=T=>ln(T,f.value,r.formatLocale,p.value.rangeSeparator,r.modelAuto,y()),ne=e.computed(()=>!r.internalModelValue||!r.menuMount?"":typeof f.value=="string"?Array.isArray(r.internalModelValue)?r.internalModelValue.length===2&&r.internalModelValue[1]?C():r.multiDates?r.internalModelValue.map(T=>`${F(T)}`):r.modelAuto?`${F(r.internalModelValue[0])}`:`${F(r.internalModelValue[0])} -`:F(r.internalModelValue):J()),v=()=>r.multiDates?"; ":" - ",z=e.computed(()=>Array.isArray(ne.value)?ne.value.join(v()):ne.value),X=()=>{D.value(r.internalModelValue)&&E.value(r.internalModelValue)&&M.value?o("select-date"):o("invalid-select")};return(T,V)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"actionRowRef",ref:N,class:"dp__action_row"},[T.$slots["action-row"]?e.renderSlot(T.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:T.internalModelValue,disabled:j.value,selectDate:()=>T.$emit("select-date"),closePicker:()=>T.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(a).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:z.value,style:e.normalizeStyle(A.value)},[T.$slots["action-preview"]&&q.value?e.renderSlot(T.$slots,"action-preview",{key:0,value:T.internalModelValue}):e.createCommentVNode("",!0),!T.$slots["action-preview"]&&q.value?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(z.value),1)],64)):e.createCommentVNode("",!0)],12,da)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"actionBtnContainer",ref:L,class:"dp__action_buttons","data-dp-element":"action-row"},[T.$slots["action-buttons"]?e.renderSlot(T.$slots,"action-buttons",{key:0,value:T.internalModelValue}):e.createCommentVNode("",!0),T.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(w).enabled&&e.unref(a).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"cancelButtonRef",ref:K,type:"button",class:"dp__action_button dp__action_cancel",onClick:V[0]||(V[0]=c=>T.$emit("close-picker")),onKeydown:[V[1]||(V[1]=e.withKeys(c=>T.$emit("close-picker"),["enter"])),V[2]||(V[2]=e.withKeys(c=>T.$emit("close-picker"),["space"]))]},e.toDisplayString(T.cancelText),545)):e.createCommentVNode("",!0),e.unref(a).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:V[3]||(V[3]=c=>T.$emit("select-now")),onKeydown:[V[4]||(V[4]=e.withKeys(c=>T.$emit("select-now"),["enter"])),V[5]||(V[5]=e.withKeys(c=>T.$emit("select-now"),["space"]))]},e.toDisplayString(T.nowButtonLabel),33)):e.createCommentVNode("",!0),e.unref(a).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"selectButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_select",disabled:j.value,onKeydown:[e.withKeys(X,["enter"]),e.withKeys(X,["space"])],onClick:X},e.toDisplayString(T.selectText),41,fa)):e.createCommentVNode("",!0)],64))],512)],64))],512))}}),pa=["onKeydown"],ga={class:"dp__selection_grid_header"},ya=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],ha=["aria-label"],Fe=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:n,emit:o}){const{setSelectionGrid:r,buildMultiLevelMatrix:a,setMonthPicker:f}=Ve(),i=o,p=t,{defaultedAriaLabels:w,defaultedTextInput:R,defaultedConfig:y}=fe(p),{hideNavigationButtons:D}=it(),E=e.ref(!1),P=e.ref(null),K=e.ref(null),h=e.ref([]),q=e.ref(),A=e.ref(null),L=e.ref(0),N=e.ref(null);e.onBeforeUpdate(()=>{P.value=null}),e.onMounted(()=>{e.nextTick().then(()=>v()),p.noOverlayFocus||M(),S(!0)}),e.onUnmounted(()=>S(!1));const S=O=>{var g;p.arrowNavigation&&((g=p.headerRefs)!=null&&g.length?f(O):r(O))},M=()=>{var g;const O=ye(K);O&&(R.value.enabled||(P.value?(g=P.value)==null||g.focus({preventScroll:!0}):O.focus({preventScroll:!0})),E.value=O.clientHeight<O.scrollHeight)},j=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!p.useRelative,"dp--overlay-relative":p.useRelative})),J=e.computed(()=>p.useRelative?{height:`${p.height}px`,width:"260px"}:void 0),C=e.computed(()=>({dp__overlay_col:!0})),F=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:E.value,dp__button_bottom:p.isLast})),ne=e.computed(()=>{var O,g;return{dp__overlay_container:!0,dp__container_flex:((O=p.items)==null?void 0:O.length)<=6,dp__container_block:((g=p.items)==null?void 0:g.length)>6}});e.watch(()=>p.items,()=>v(!1),{deep:!0});const v=(O=!0)=>{e.nextTick().then(()=>{const g=ye(P),I=ye(K),l=ye(A),k=ye(N),H=l?l.getBoundingClientRect().height:0;I&&(I.getBoundingClientRect().height?L.value=I.getBoundingClientRect().height-H:L.value=y.value.modeHeight-H),g&&k&&O&&(k.scrollTop=g.offsetTop-k.offsetTop-(L.value/2-g.getBoundingClientRect().height)-H)})},z=O=>{O.disabled||i("selected",O.value)},X=()=>{i("toggle"),i("reset-flow")},T=()=>{p.escClose&&X()},V=(O,g,I,l)=>{O&&((g.active||g.value===p.focusValue)&&(P.value=O),p.arrowNavigation&&(Array.isArray(h.value[I])?h.value[I][l]=O:h.value[I]=[O],c()))},c=()=>{var g,I;const O=(g=p.headerRefs)!=null&&g.length?[p.headerRefs].concat(h.value):h.value.concat([p.skipButtonRef?[]:[A.value]]);a(ge(O),(I=p.headerRefs)!=null&&I.length?"monthPicker":"selectionGrid")},d=O=>{p.arrowNavigation||Ne(O,y.value,!0)},x=O=>{q.value=O,i("hover-value",O)},ee=()=>{if(X(),!p.isLast){const O=Tn(p.menuWrapRef??null,"action-row");if(O){const g=Zt(O);g==null||g.focus()}}};return n({focusGrid:M}),(O,g)=>{var I;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:K,class:e.normalizeClass(j.value),style:e.normalizeStyle(J.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(T,["prevent"]),["esc"]),g[0]||(g[0]=e.withKeys(e.withModifiers(l=>d(l),["prevent"]),["left"])),g[1]||(g[1]=e.withKeys(e.withModifiers(l=>d(l),["prevent"]),["up"])),g[2]||(g[2]=e.withKeys(e.withModifiers(l=>d(l),["prevent"]),["down"])),g[3]||(g[3]=e.withKeys(e.withModifiers(l=>d(l),["prevent"]),["right"]))]},[e.createElementVNode("div",{ref_key:"containerRef",ref:N,class:e.normalizeClass(ne.value),role:"grid",style:e.normalizeStyle({height:`${L.value}px`})},[e.createElementVNode("div",ga,[e.renderSlot(O.$slots,"header")]),O.$slots.overlay?e.renderSlot(O.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(O.items,(l,k)=>(e.openBlock(),e.createElementBlock("div",{key:k,class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:O.items.length>=3}]),role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(l,(H,u)=>(e.openBlock(),e.createElementBlock("div",{key:H.value,ref_for:!0,ref:W=>V(W,H,k,u),role:"gridcell",class:e.normalizeClass(C.value),"aria-selected":H.active||void 0,"aria-disabled":H.disabled||void 0,tabindex:"0",onClick:W=>z(H),onKeydown:[e.withKeys(e.withModifiers(W=>z(H),["prevent"]),["enter"]),e.withKeys(e.withModifiers(W=>z(H),["prevent"]),["space"])],onMouseover:W=>x(H.value)},[e.createElementVNode("div",{class:e.normalizeClass(H.className)},[O.$slots.item?e.renderSlot(O.$slots,"item",{key:0,item:H}):e.createCommentVNode("",!0),O.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(H.text),1)],64))],2)],42,ya))),128))],2))),128))],6),O.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"toggleButton",ref:A,type:"button","aria-label":(I=e.unref(w))==null?void 0:I.toggleOverlay,class:e.normalizeClass(F.value),tabindex:"0",onClick:X,onKeydown:[e.withKeys(X,["enter"]),e.withKeys(ee,["tab"])]},[e.renderSlot(O.$slots,"button-icon")],42,ha)),[[e.vShow,!e.unref(D)(O.hideNavigation,O.type)]]):e.createCommentVNode("",!0)],46,pa)}}}),ct=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(t){const n=t,o=e.computed(()=>n.multiCalendars>0?[...Array(n.multiCalendars).keys()]:[0]),r=e.computed(()=>({dp__instance_calendar:n.multiCalendars>0}));return(a,f)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!a.stretch,"dp--menu--inner-stretched":a.stretch,dp__flex_display:a.multiCalendars>0,"dp--flex-display-collapsed":a.collapse})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(i,p)=>(e.openBlock(),e.createElementBlock("div",{key:i,class:e.normalizeClass(r.value)},[e.renderSlot(a.$slots,"default",{instance:i,index:p})],2))),128))],2))}}),ka=["aria-label","aria-disabled"],et=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:n}){const o=n,r=e.ref(null);return e.onMounted(()=>o("set-ref",r)),(a,f)=>(e.openBlock(),e.createElementBlock("button",{ref_key:"elRef",ref:r,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":a.ariaLabel,"aria-disabled":a.disabled||void 0,onClick:f[0]||(f[0]=i=>a.$emit("activate")),onKeydown:[f[1]||(f[1]=e.withKeys(e.withModifiers(i=>a.$emit("activate"),["prevent"]),["enter"])),f[2]||(f[2]=e.withKeys(e.withModifiers(i=>a.$emit("activate"),["prevent"]),["space"]))]},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:a.disabled}])},[e.renderSlot(a.$slots,"default")],2)],40,ka))}}),ba={class:"dp--year-mode-picker"},wa=["aria-label"],mn=e.defineComponent({__name:"YearModePicker",props:{...Se,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(t,{emit:n}){const o=n,r=t,{showRightIcon:a,showLeftIcon:f}=it(),{defaultedConfig:i,defaultedMultiCalendars:p,defaultedAriaLabels:w,defaultedTransitions:R}=fe(r),{showTransition:y,transitionName:D}=Je(R),E=(h=!1,q)=>{o("toggle-year-picker",{flow:h,show:q})},P=h=>{o("year-select",h)},K=(h=!1)=>{o("handle-year",h)};return(h,q)=>{var A,L,N;return e.openBlock(),e.createElementBlock("div",ba,[e.unref(f)(e.unref(p),t.instance)?(e.openBlock(),e.createBlock(et,{key:0,ref:"mpPrevIconRef","aria-label":(A=e.unref(w))==null?void 0:A.prevYear,disabled:t.isDisabled(!1),onActivate:q[0]||(q[0]=S=>K(!1))},{default:e.withCtx(()=>[h.$slots["arrow-left"]?e.renderSlot(h.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(pt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(L=e.unref(w))==null?void 0:L.openYearsOverlay,onClick:q[1]||(q[1]=()=>E(!1)),onKeydown:q[2]||(q[2]=e.withKeys(()=>E(!1),["enter"]))},[h.$slots.year?e.renderSlot(h.$slots,"year",{key:0,year:t.year}):e.createCommentVNode("",!0),h.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(t.year),1)],64))],40,wa),e.unref(a)(e.unref(p),t.instance)?(e.openBlock(),e.createBlock(et,{key:1,ref:"mpNextIconRef","aria-label":(N=e.unref(w))==null?void 0:N.nextYear,disabled:t.isDisabled(!0),onActivate:q[3]||(q[3]=S=>K(!0))},{default:e.withCtx(()=>[h.$slots["arrow-right"]?e.renderSlot(h.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),h.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(gt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(D)(t.showYearPicker),css:e.unref(y)},{default:e.withCtx(()=>[t.showYearPicker?(e.openBlock(),e.createBlock(Fe,{key:0,items:t.items,"text-input":h.textInput,"esc-close":h.escClose,config:h.config,"is-last":h.autoApply&&!e.unref(i).keepActionRow,"hide-navigation":h.hideNavigation,"aria-labels":h.ariaLabels,type:"year",onToggle:E,onSelected:q[4]||(q[4]=S=>P(S))},e.createSlots({"button-icon":e.withCtx(()=>[h.$slots["calendar-icon"]?e.renderSlot(h.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),h.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ue),{key:1}))]),_:2},[h.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:S})=>[e.renderSlot(h.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])])}}}),Vt=(t,n,o)=>{if(n.value&&Array.isArray(n.value))if(n.value.some(r=>ue(t,r))){const r=n.value.filter(a=>!ue(a,t));n.value=r.length?r:null}else(o&&+o>n.value.length||!o)&&n.value.push(t);else n.value=[t]},Yt=(t,n,o)=>{let r=t.value?t.value.slice():[];return r.length===2&&r[1]!==null&&(r=[]),r.length?me(n,r[0])?(r.unshift(n),o("range-start",r[0]),o("range-start",r[1])):(r[1]=n,o("range-end",n)):(r=[n],o("range-start",n)),r},dt=(t,n,o,r)=>{t&&(t[0]&&t[1]&&o&&n("auto-apply"),t[0]&&!t[1]&&r&&o&&n("auto-apply"))},pn=t=>{Array.isArray(t.value)&&t.value.length<=2&&t.range?t.modelValue.value=t.value.map(n=>Ye(_(n),t.timezone)):Array.isArray(t.value)||(t.modelValue.value=Ye(_(t.value),t.timezone))},gn=(t,n,o,r)=>Array.isArray(n.value)&&n.value.length===2?r.value.fixedStart&&(pe(t,n.value[0])||ue(t,n.value[0]))?[n.value[0],t]:r.value.fixedEnd&&(me(t,n.value[1])||ue(t,n.value[1]))?[t,n.value[1]]:(o("invalid-fixed-range",t),n.value):[],yn=({multiCalendars:t,highlight:n,propDates:o,calendars:r,modelValue:a,props:f,year:i,month:p,emit:w})=>{const R=e.computed(()=>bt(f.yearRange,f.reverseYears)),y=e.ref([!1]),D=e.computed(()=>(M,j)=>{const J=s.set(Me(new Date),{month:p.value(M),year:i.value(M)});return rn(J,o.value.maxDate,o.value.minDate,f.preventMinMaxNavigation,j)}),E=()=>{for(let M=0;M<t.value.count;M++)if(M===0)r.value[M]=r.value[0];else{const j=s.set(_(),r.value[M-1]);r.value[M]={month:s.getMonth(j),year:s.getYear(s.addYears(j,1))}}},P=M=>{if(!M)return E();const j=s.set(_(),r.value[M]);return r.value[0].year=s.getYear(s.subYears(j,t.value.count-1)),E()},K=M=>f.focusStartDate?M[0]:M[1]?M[1]:M[0],h=()=>{if(a.value){const M=Array.isArray(a.value)?K(a.value):a.value;r.value[0]={month:s.getMonth(M),year:s.getYear(M)}}};e.onMounted(()=>{h(),t.value.count&&E()});const q=(M,j)=>{r.value[j].year=M,t.value.count&&!t.value.solo&&P(j)},A=e.computed(()=>M=>je(R.value,j=>{const J=i.value(M)===j.value,C=Ge(j.value,xe(o.value.minDate),xe(o.value.maxDate)),F=At(n.value,j.value);return{active:J,disabled:C,highlighted:F}})),L=(M,j)=>{q(M,j),S(j)},N=(M,j=!1)=>{if(!D.value(M,j)){const J=j?i.value(M)+1:i.value(M)-1;q(J,M)}},S=(M,j=!1,J)=>{j||w("reset-flow"),J!==void 0?y.value[M]=J:y.value[M]=!y.value[M],y.value||w("overlay-closed")};return{isDisabled:D,groupedYears:A,showYearPicker:y,selectYear:q,toggleYearPicker:S,handleYearSelect:L,handleYear:N}},va=(t,n)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:f,defaultedRange:i,defaultedHighlight:p,propDates:w,defaultedTz:R}=fe(t),{modelValue:y,year:D,month:E,calendars:P}=Ze(t,n),K=e.computed(()=>Qt(t.formatLocale,t.locale,t.monthNameFormat)),h=e.ref(null),{checkMinMaxRange:q}=Ie(t),{selectYear:A,groupedYears:L,showYearPicker:N,toggleYearPicker:S,handleYearSelect:M,handleYear:j,isDisabled:J}=yn({modelValue:y,multiCalendars:o,highlight:p,calendars:P,year:D,propDates:w,month:E,props:t,emit:n});e.onMounted(()=>{t.startDate&&(y.value&&t.focusStartDate||!y.value)&&A(s.getYear(_(t.startDate)),0)});const C=l=>l?{month:s.getMonth(l),year:s.getYear(l)}:{month:null,year:null},F=()=>y.value?Array.isArray(y.value)?y.value.map(l=>C(l)):C(y.value):C(),ne=(l,k)=>{const H=P.value[l],u=F();return Array.isArray(u)?u.some(W=>W.year===(H==null?void 0:H.year)&&W.month===k):(H==null?void 0:H.year)===u.year&&k===u.month},v=(l,k,H)=>{var W,Z;const u=F();return Array.isArray(u)?D.value(k)===((W=u[H])==null?void 0:W.year)&&l===((Z=u[H])==null?void 0:Z.month):!1},z=(l,k)=>{if(i.value.enabled){const H=F();if(Array.isArray(y.value)&&Array.isArray(H)){const u=v(l,k,0)||v(l,k,1),W=Pe(Me(_()),l,D.value(k));return lt(y.value,h.value,W)&&!u}return!1}return!1},X=e.computed(()=>l=>je(K.value,k=>{const H=ne(l,k.value),u=Ge(k.value,en(D.value(l),w.value.minDate),tn(D.value(l),w.value.maxDate))||On(w.value.disabledDates,D.value(l)).includes(k.value),W=z(k.value,l),Z=sn(p.value,k.value,D.value(l));return{active:H,disabled:u,isBetween:W,highlighted:Z}})),T=(l,k)=>Pe(Me(_()),l,D.value(k)),V=(l,k)=>{const H=y.value?y.value:Me(new Date);y.value=Pe(H,l,D.value(k)),n("auto-apply"),n("update-flow-step")},c=(l,k)=>{const H=T(l,k);i.value.fixedEnd||i.value.fixedStart?y.value=gn(H,y,n,i):y.value?q(H,y.value)&&(y.value=Yt(y,T(l,k),n)):y.value=[T(l,k)],dt(y.value,n,t.autoApply,t.modelAuto)},d=(l,k)=>{Vt(T(l,k),y,t.multiDatesLimit),n("auto-apply",!0)},x=(l,k)=>(P.value[k].month=l,O(k,P.value[k].year,l),t.multiDates?d(l,k):i.value.enabled?c(l,k):V(l,k)),ee=(l,k)=>{A(l,k),O(k,l,null)},O=(l,k,H)=>{let u=H;if(!u&&u!==0){const W=F();u=Array.isArray(W)?W[l].month:W.month}n("update-month-year",{instance:l,year:k,month:u})};return{groupedMonths:X,groupedYears:L,year:D,isDisabled:J,defaultedMultiCalendars:o,defaultedAriaLabels:r,defaultedTransitions:a,defaultedConfig:f,showYearPicker:N,modelValue:y,presetDate:(l,k)=>{pn({value:l,modelValue:y,range:i.value.enabled,timezone:k?void 0:R.value.timezone}),n("auto-apply")},setHoverDate:(l,k)=>{h.value=T(l,k)},selectMonth:x,selectYear:ee,toggleYearPicker:S,handleYearSelect:M,handleYear:j,getModelMonthYear:F}},Ma=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Se},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(t,{expose:n,emit:o}){const r=o,a=e.useSlots(),f=we(a,"yearMode"),i=t;e.onMounted(()=>{i.shadow||r("mount",null)});const{groupedMonths:p,groupedYears:w,year:R,isDisabled:y,defaultedMultiCalendars:D,defaultedConfig:E,showYearPicker:P,modelValue:K,presetDate:h,setHoverDate:q,selectMonth:A,selectYear:L,toggleYearPicker:N,handleYearSelect:S,handleYear:M,getModelMonthYear:j}=va(i,r);return n({getSidebarProps:()=>({modelValue:K,year:R,getModelMonthYear:j,selectMonth:A,selectYear:L,handleYear:M}),presetDate:h,toggleYearPicker:C=>N(0,C)}),(C,F)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":e.unref(D).count,collapse:C.collapse,stretch:""},{default:e.withCtx(({instance:ne})=>[C.$slots["month-year"]?e.renderSlot(C.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{year:e.unref(R),months:e.unref(p)(ne),years:e.unref(w)(ne),selectMonth:e.unref(A),selectYear:e.unref(L),instance:ne}))):(e.openBlock(),e.createBlock(Fe,{key:1,items:e.unref(p)(ne),"arrow-navigation":C.arrowNavigation,"is-last":C.autoApply&&!e.unref(E).keepActionRow,"esc-close":C.escClose,height:e.unref(E).modeHeight,config:C.config,"no-overlay-focus":!!(C.noOverlayFocus||C.textInput),"use-relative":"",type:"month",onSelected:v=>e.unref(A)(v,ne),onHoverValue:v=>e.unref(q)(v,ne)},{header:e.withCtx(()=>[e.createVNode(mn,e.mergeProps(C.$props,{items:e.unref(w)(ne),instance:ne,"show-year-picker":e.unref(P)[ne],year:e.unref(R)(ne),"is-disabled":v=>e.unref(y)(ne,v),onHandleYear:v=>e.unref(M)(ne,v),onYearSelect:v=>e.unref(S)(v,ne),onToggleYearPicker:v=>e.unref(N)(ne,v==null?void 0:v.flow,v==null?void 0:v.show)}),e.createSlots({_:2},[e.renderList(e.unref(f),(v,z)=>({name:v,fn:e.withCtx(X=>[e.renderSlot(C.$slots,v,e.normalizeProps(e.guardReactiveProps(X)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Da=(t,n)=>{const{modelValue:o}=Ze(t,n),r=e.ref(null),{defaultedHighlight:a,defaultedFilters:f,defaultedRange:i,propDates:p}=fe(t),w=e.ref();e.onMounted(()=>{t.startDate&&(o.value&&t.focusStartDate||!o.value)&&(w.value=s.getYear(_(t.startDate)))});const R=h=>Array.isArray(o.value)?o.value.some(q=>s.getYear(q)===h):o.value?s.getYear(o.value)===h:!1,y=h=>i.value.enabled&&Array.isArray(o.value)?lt(o.value,r.value,E(h)):!1,D=e.computed(()=>je(bt(t.yearRange,t.reverseYears),h=>{const q=R(h.value),A=Ge(h.value,xe(p.value.minDate),xe(p.value.maxDate))||f.value.years.includes(h.value),L=y(h.value)&&!q,N=At(a.value,h.value);return{active:q,disabled:A,isBetween:L,highlighted:N}})),E=h=>s.setYear(Me(new Date),h);return{groupedYears:D,modelValue:o,focusYear:w,setHoverValue:h=>{r.value=s.setYear(Me(new Date),h)},selectYear:h=>{var q;if(n("update-month-year",{instance:0,year:h}),t.multiDates)return o.value?Array.isArray(o.value)&&(((q=o.value)==null?void 0:q.map(L=>s.getYear(L))).includes(h)?o.value=o.value.filter(L=>s.getYear(L)!==h):o.value.push(s.setYear(be(_()),h))):o.value=[s.setYear(be(_()),h)],n("auto-apply",!0);if(i.value.enabled)return o.value=Yt(o,E(h),n),dt(o.value,n,t.autoApply,t.modelAuto);o.value=E(h),n("auto-apply")}}},Sa=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Se},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(t,{expose:n,emit:o}){const r=o,a=t,{groupedYears:f,modelValue:i,focusYear:p,selectYear:w,setHoverValue:R}=Da(a,r),{defaultedConfig:y}=fe(a);return n({getSidebarProps:()=>({modelValue:i,selectYear:w})}),(E,P)=>(e.openBlock(),e.createElementBlock("div",null,[E.$slots["month-year"]?e.renderSlot(E.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{years:e.unref(f),selectYear:e.unref(w)}))):(e.openBlock(),e.createBlock(Fe,{key:1,items:e.unref(f),"is-last":E.autoApply&&!e.unref(y).keepActionRow,height:e.unref(y).modeHeight,config:E.config,"no-overlay-focus":!!(E.noOverlayFocus||E.textInput),"focus-value":e.unref(p),type:"year","use-relative":"",onSelected:e.unref(w),onHoverValue:e.unref(R)},e.createSlots({_:2},[E.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:K})=>[e.renderSlot(E.$slots,"year-overlay-value",{text:K.text,value:K.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),Ca={key:0,class:"dp__time_input"},Ba=["aria-label","onKeydown","onClick"],$a=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Aa=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ta=["aria-label","disabled","onKeydown","onClick"],Pa=["aria-label","onKeydown","onClick"],Ra=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Na=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Ea={key:0},_a=["aria-label","onKeydown"],Va=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Se},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{setTimePickerElements:f,setTimePickerBackRef:i}=Ve(),{defaultedAriaLabels:p,defaultedTransitions:w,defaultedFilters:R,defaultedConfig:y,defaultedRange:D}=fe(a),{transitionName:E,showTransition:P}=Je(w),K=e.reactive({hours:!1,minutes:!1,seconds:!1}),h=e.ref("AM"),q=e.ref(null),A=e.ref([]);e.onMounted(()=>{r("mounted")});const L=m=>s.set(new Date,{hours:m.hours,minutes:m.minutes,seconds:a.enableSeconds?m.seconds:0,milliseconds:0}),N=e.computed(()=>m=>V(m,a[m])||M(m,a[m])),S=e.computed(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),M=(m,Q)=>D.value.enabled&&!D.value.disableTimeRangeValidation?!a.validateTime(m,Q):!1,j=(m,Q)=>{if(D.value.enabled&&!D.value.disableTimeRangeValidation){const ie=Q?+a[`${m}Increment`]:-+a[`${m}Increment`],Y=a[m]+ie;return!a.validateTime(m,Y)}return!1},J=e.computed(()=>m=>!ee(+a[m]+ +a[`${m}Increment`],m)||j(m,!0)),C=e.computed(()=>m=>!ee(+a[m]-+a[`${m}Increment`],m)||j(m,!1)),F=(m,Q)=>s.add(s.set(_(),m),Q),ne=(m,Q)=>s.sub(s.set(_(),m),Q),v=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!a.timePickerInline,dp__time_col_reg_block:!a.enableSeconds&&a.is24&&!a.timePickerInline,dp__time_col_reg_inline:!a.enableSeconds&&a.is24&&a.timePickerInline,dp__time_col_reg_with_button:!a.enableSeconds&&!a.is24,dp__time_col_sec:a.enableSeconds&&a.is24,dp__time_col_sec_with_button:a.enableSeconds&&!a.is24})),z=e.computed(()=>{const m=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return a.enableSeconds?m.concat([{type:"",separator:!0},{type:"seconds"}]):m}),X=e.computed(()=>z.value.filter(m=>!m.separator)),T=e.computed(()=>m=>{if(m==="hours"){const Q=k(+a.hours);return{text:Q<10?`0${Q}`:`${Q}`,value:Q}}return{text:a[m]<10?`0${a[m]}`:`${a[m]}`,value:a[m]}}),V=(m,Q)=>{var Y;if(!a.disabledTimesConfig)return!1;const ie=a.disabledTimesConfig(a.order,m==="hours"?Q:void 0);return ie[m]?!!((Y=ie[m])!=null&&Y.includes(Q)):!0},c=m=>{const Q=a.is24?24:12,ie=m==="hours"?Q:60,Y=+a[`${m}GridIncrement`],B=m==="hours"&&!a.is24?Y:0,U=[];for(let oe=B;oe<ie;oe+=Y)U.push({value:oe,text:oe<10?`0${oe}`:`${oe}`});return m==="hours"&&!a.is24&&U.push({value:0,text:"12"}),je(U,oe=>({active:!1,disabled:R.value.times[m].includes(oe.value)||!ee(oe.value,m)||V(m,oe.value)||M(m,oe.value)}))},d=m=>m>=0?m:59,x=m=>m>=0?m:23,ee=(m,Q)=>{const ie=a.minTime?L(Dt(a.minTime)):null,Y=a.maxTime?L(Dt(a.maxTime)):null,B=L(Dt(S.value,Q,Q==="minutes"||Q==="seconds"?d(m):x(m)));return ie&&Y?(s.isBefore(B,Y)||s.isEqual(B,Y))&&(s.isAfter(B,ie)||s.isEqual(B,ie)):ie?s.isAfter(B,ie)||s.isEqual(B,ie):Y?s.isBefore(B,Y)||s.isEqual(B,Y):!0},O=m=>a[`no${m[0].toUpperCase()+m.slice(1)}Overlay`],g=m=>{O(m)||(K[m]=!K[m],K[m]||r("overlay-closed"))},I=m=>m==="hours"?s.getHours:m==="minutes"?s.getMinutes:s.getSeconds,l=(m,Q=!0)=>{const ie=Q?F:ne,Y=Q?+a[`${m}Increment`]:-+a[`${m}Increment`];ee(+a[m]+Y,m)&&r(`update:${m}`,I(m)(ie({[m]:+a[m]},{[m]:+a[`${m}Increment`]})))},k=m=>a.is24?m:(m>=12?h.value="PM":h.value="AM",Sn(m)),H=()=>{h.value==="PM"?(h.value="AM",r("update:hours",a.hours-12)):(h.value="PM",r("update:hours",a.hours+12)),r("am-pm-change",h.value)},u=m=>{K[m]=!0},W=(m,Q,ie)=>{if(m&&a.arrowNavigation){Array.isArray(A.value[Q])?A.value[Q][ie]=m:A.value[Q]=[m];const Y=A.value.reduce((B,U)=>U.map((oe,ce)=>[...B[ce]||[],U[ce]]),[]);i(a.closeTimePickerBtn),q.value&&(Y[1]=Y[1].concat(q.value)),f(Y,a.order)}},Z=(m,Q)=>(g(m),m==="hours"&&!a.is24?r(`update:${m}`,h.value==="PM"?Q+12:Q):r(`update:${m}`,Q));return n({openChildCmp:u}),(m,Q)=>{var ie;return m.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ca,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.value,(Y,B)=>{var U,oe,ce;return e.openBlock(),e.createElementBlock("div",{key:B,class:e.normalizeClass(v.value)},[Y.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{ref_for:!0,ref:se=>W(se,B,0),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!m.timePickerInline,dp__inc_dec_button_inline:m.timePickerInline,dp__tp_inline_btn_top:m.timePickerInline,dp__inc_dec_button_disabled:J.value(Y.type)}),"aria-label":(U=e.unref(p))==null?void 0:U.incrementValue(Y.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(se=>l(Y.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>l(Y.type),["prevent"]),["space"])],onClick:se=>l(Y.type)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[$a,Aa],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[m.$slots["arrow-up"]?e.renderSlot(m.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ht),{key:1}))],64))],42,Ba),e.createElementVNode("button",{ref_for:!0,ref:se=>W(se,B,1),type:"button","aria-label":(oe=e.unref(p))==null?void 0:oe.openTpOverlay(Y.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!m.timePickerInline,dp__time_display_inline:m.timePickerInline,"dp--time-invalid":N.value(Y.type),"dp--time-overlay-btn":!N.value(Y.type)}),disabled:O(Y.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(se=>g(Y.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>g(Y.type),["prevent"]),["space"])],onClick:se=>g(Y.type)},[m.$slots[Y.type]?e.renderSlot(m.$slots,Y.type,{key:0,text:T.value(Y.type).text,value:T.value(Y.type).value}):e.createCommentVNode("",!0),m.$slots[Y.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(T.value(Y.type).text),1)],64))],42,Ta),e.createElementVNode("button",{ref_for:!0,ref:se=>W(se,B,2),type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!m.timePickerInline,dp__inc_dec_button_inline:m.timePickerInline,dp__tp_inline_btn_bottom:m.timePickerInline,dp__inc_dec_button_disabled:C.value(Y.type)}),"aria-label":(ce=e.unref(p))==null?void 0:ce.decrementValue(Y.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(se=>l(Y.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(se=>l(Y.type,!1),["prevent"]),["space"])],onClick:se=>l(Y.type,!1)},[a.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Ra,Na],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[m.$slots["arrow-down"]?e.renderSlot(m.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),m.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(kt),{key:1}))],64))],42,Pa)],64))],2)}),128)),m.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Ea,[m.$slots["am-pm-button"]?e.renderSlot(m.$slots,"am-pm-button",{key:0,toggle:H,value:h.value}):e.createCommentVNode("",!0),m.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:q,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=e.unref(p))==null?void 0:ie.amPmButton,tabindex:"0",onClick:H,onKeydown:[e.withKeys(e.withModifiers(H,["prevent"]),["enter"]),e.withKeys(e.withModifiers(H,["prevent"]),["space"])]},e.toDisplayString(h.value),41,_a))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(X.value,(Y,B)=>(e.openBlock(),e.createBlock(e.Transition,{key:B,name:e.unref(E)(K[Y.type]),css:e.unref(P)},{default:e.withCtx(()=>[K[Y.type]?(e.openBlock(),e.createBlock(Fe,{key:0,items:c(Y.type),"is-last":m.autoApply&&!e.unref(y).keepActionRow,"esc-close":m.escClose,type:Y.type,"text-input":m.textInput,config:m.config,"arrow-navigation":m.arrowNavigation,"aria-labels":m.ariaLabels,onSelected:U=>Z(Y.type,U),onToggle:U=>g(Y.type),onResetFlow:Q[0]||(Q[0]=U=>m.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[m.$slots["clock-icon"]?e.renderSlot(m.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m.timePickerInline?e.unref(Ue):e.unref(yt)),{key:1}))]),_:2},[m.$slots[`${Y.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:U})=>[e.renderSlot(m.$slots,`${Y.type}-overlay-value`,{text:U.text,value:U.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),Ya={class:"dp--tp-wrap"},Oa=["aria-label","tabindex"],Ia=["tabindex"],za=["aria-label"],hn=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Se},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMatrix:f,setTimePicker:i}=Ve(),p=e.useSlots(),{defaultedTransitions:w,defaultedAriaLabels:R,defaultedTextInput:y,defaultedConfig:D,defaultedRange:E}=fe(a),{transitionName:P,showTransition:K}=Je(w),{hideNavigationButtons:h}=it(),q=e.ref(null),A=e.ref(null),L=e.ref([]),N=e.ref(null);e.onMounted(()=>{r("mount"),!a.timePicker&&a.arrowNavigation?f([ye(q.value)],"time"):i(!0,a.timePicker)});const S=e.computed(()=>E.value.enabled&&a.modelAuto?Gt(a.internalModelValue):!0),M=e.ref(!1),j=c=>({hours:Array.isArray(a.hours)?a.hours[c]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[c]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[c]:a.seconds}),J=e.computed(()=>{const c=[];if(E.value.enabled)for(let d=0;d<2;d++)c.push(j(d));else c.push(j(0));return c}),C=(c,d=!1,x="")=>{d||r("reset-flow"),M.value=c,r(c?"overlay-opened":"overlay-closed"),a.arrowNavigation&&i(c),e.nextTick(()=>{x!==""&&L.value[0]&&L.value[0].openChildCmp(x)})},F=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:a.autoApply&&!D.value.keepActionRow})),ne=we(p,"timePicker"),v=(c,d,x)=>E.value.enabled?d===0?[c,J.value[1][x]]:[J.value[0][x],c]:c,z=c=>{r("update:hours",c)},X=c=>{r("update:minutes",c)},T=c=>{r("update:seconds",c)},V=()=>{if(N.value&&!y.value.enabled&&!a.noOverlayFocus){const c=Zt(N.value);c&&c.focus({preventScroll:!0})}};return n({toggleTimePicker:C}),(c,d)=>{var x;return e.openBlock(),e.createElementBlock("div",Ya,[!c.timePicker&&!c.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,ref_key:"openTimePickerBtn",ref:q,type:"button",class:e.normalizeClass(F.value),"aria-label":(x=e.unref(R))==null?void 0:x.openTimePicker,tabindex:c.noOverlayFocus?void 0:0,onKeydown:[d[0]||(d[0]=e.withKeys(ee=>C(!0),["enter"])),d[1]||(d[1]=e.withKeys(ee=>C(!0),["space"]))],onClick:d[2]||(d[2]=ee=>C(!0))},[c.$slots["clock-icon"]?e.renderSlot(c.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),c.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(yt),{key:1}))],42,Oa)),[[e.vShow,!e.unref(h)(c.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(P)(M.value),css:e.unref(K)&&!c.timePickerInline},{default:e.withCtx(()=>{var ee;return[M.value||c.timePicker||c.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,ref_key:"overlayRef",ref:N,class:e.normalizeClass({dp__overlay:!c.timePickerInline,"dp--overlay-absolute":!a.timePicker&&!c.timePickerInline,"dp--overlay-relative":a.timePicker}),style:e.normalizeStyle(c.timePicker?{height:`${e.unref(D).modeHeight}px`}:void 0),tabindex:c.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(c.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[c.$slots["time-picker-overlay"]?e.renderSlot(c.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:z,setMinutes:X,setSeconds:T}):e.createCommentVNode("",!0),c.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(c.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(J.value,(O,g)=>e.withDirectives((e.openBlock(),e.createBlock(Va,e.mergeProps({key:g},{...c.$props,order:g,hours:O.hours,minutes:O.minutes,seconds:O.seconds,closeTimePickerBtn:A.value,disabledTimesConfig:t.disabledTimesConfig,disabled:g===0?c.fixedStart:c.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:L,"validate-time":(I,l)=>t.validateTime(I,v(l,g,I)),"onUpdate:hours":I=>z(v(I,g,"hours")),"onUpdate:minutes":I=>X(v(I,g,"minutes")),"onUpdate:seconds":I=>T(v(I,g,"seconds")),onMounted:V,onOverlayClosed:V,onAmPmChange:d[3]||(d[3]=I=>c.$emit("am-pm-change",I))}),e.createSlots({_:2},[e.renderList(e.unref(ne),(I,l)=>({name:I,fn:e.withCtx(k=>[e.renderSlot(c.$slots,I,e.normalizeProps(e.guardReactiveProps(k)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,g===0?!0:S.value]])),128))],2)),!c.timePicker&&!c.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,ref_key:"closeTimePickerBtn",ref:A,type:"button",class:e.normalizeClass(F.value),"aria-label":(ee=e.unref(R))==null?void 0:ee.closeTimePicker,tabindex:"0",onKeydown:[d[4]||(d[4]=e.withKeys(O=>C(!1),["enter"])),d[5]||(d[5]=e.withKeys(O=>C(!1),["space"]))],onClick:d[6]||(d[6]=O=>C(!1))},[c.$slots["calendar-icon"]?e.renderSlot(c.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),c.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ue),{key:1}))],42,za)),[[e.vShow,!e.unref(h)(c.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,Ia)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),kn=(t,n,o,r)=>{const{defaultedRange:a}=fe(t),f=(N,S)=>Array.isArray(n[N])?n[N][S]:n[N],i=N=>t.enableSeconds?Array.isArray(n.seconds)?n.seconds[N]:n.seconds:0,p=(N,S)=>N?S!==void 0?Ee(N,f("hours",S),f("minutes",S),i(S)):Ee(N,n.hours,n.minutes,i()):s.setSeconds(_(),i(S)),w=(N,S)=>{n[N]=S},R=e.computed(()=>t.modelAuto&&a.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:a.value.enabled),y=(N,S)=>{const M=Object.fromEntries(Object.keys(n).map(j=>j===N?[j,S]:[j,n[j]].slice()));if(R.value&&!a.value.disableTimeRangeValidation){const j=C=>o.value?Ee(o.value[C],M.hours[C],M.minutes[C],M.seconds[C]):null,J=C=>s.setMilliseconds(o.value[C],0);return!(ue(j(0),j(1))&&(s.isAfter(j(0),J(1))||s.isBefore(j(1),J(0))))}return!0},D=(N,S)=>{y(N,S)&&(w(N,S),r&&r())},E=N=>{D("hours",N)},P=N=>{D("minutes",N)},K=N=>{D("seconds",N)},h=(N,S,M,j)=>{S&&E(N),!S&&!M&&P(N),M&&K(N),o.value&&j(o.value)},q=N=>{if(N){const S=Array.isArray(N),M=S?[+N[0].hours,+N[1].hours]:+N.hours,j=S?[+N[0].minutes,+N[1].minutes]:+N.minutes,J=S?[+N[0].seconds,+N[1].seconds]:+N.seconds;w("hours",M),w("minutes",j),t.enableSeconds&&w("seconds",J)}},A=(N,S)=>{const M={hours:Array.isArray(n.hours)?n.hours[N]:n.hours,disabledArr:[]};return(S||S===0)&&(M.hours=S),Array.isArray(t.disabledTimes)&&(M.disabledArr=a.value.enabled&&Array.isArray(t.disabledTimes[N])?t.disabledTimes[N]:t.disabledTimes),M},L=e.computed(()=>(N,S)=>{var M;if(Array.isArray(t.disabledTimes)){const{disabledArr:j,hours:J}=A(N,S),C=j.filter(F=>+F.hours===J);return((M=C[0])==null?void 0:M.minutes)==="*"?{hours:[J],minutes:void 0,seconds:void 0}:{hours:[],minutes:(C==null?void 0:C.map(F=>+F.minutes))??[],seconds:(C==null?void 0:C.map(F=>F.seconds?+F.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:w,updateHours:E,updateMinutes:P,updateSeconds:K,getSetDateTime:p,updateTimeValues:h,getSecondsValue:i,assignStartTime:q,validateTime:y,disabledTimesConfig:L}},La=(t,n)=>{const{modelValue:o,time:r}=Ze(t,n),{defaultedStartTime:a,defaultedRange:f}=fe(t),{updateTimeValues:i,getSetDateTime:p,setTime:w,assignStartTime:R,disabledTimesConfig:y,validateTime:D}=kn(t,r,o),E=S=>{const{hours:M,minutes:j,seconds:J}=S;return{hours:+M,minutes:+j,seconds:J?+J:0}},P=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const M=E(t.startTime[0]),j=E(t.startTime[1]);return[s.set(_(),M),s.set(_(),j)]}const S=E(t.startTime);return s.set(_(),S)}return f.value.enabled?[null,null]:null},K=()=>{if(f.value.enabled){const[S,M]=P();o.value=[p(S,0),p(M,1)]}else o.value=p(P())},h=S=>Array.isArray(S)?[ze(_(S[0])),ze(_(S[1]))]:[ze(S??_())],q=(S,M,j)=>{w("hours",S),w("minutes",M),w("seconds",t.enableSeconds?j:0)},A=()=>{const[S,M]=h(o.value);return f.value.enabled?q([S.hours,M.hours],[S.minutes,M.minutes],[S.seconds,M.seconds]):q(S.hours,S.minutes,S.seconds)};e.onMounted(()=>{if(!t.shadow)return R(a.value),o.value?A():K()});const L=()=>{Array.isArray(o.value)?o.value=o.value.map((S,M)=>S&&p(S,M)):o.value=p(o.value),n("time-update")};return{modelValue:o,time:r,disabledTimesConfig:y,updateTime:(S,M=!0,j=!1)=>{i(S,M,j,L)},validateTime:D}},Ka=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Se},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{expose:n,emit:o}){const r=o,a=t,f=e.useSlots(),i=we(f,"timePicker"),{time:p,modelValue:w,disabledTimesConfig:R,updateTime:y,validateTime:D}=La(a,r);return n({getSidebarProps:()=>({modelValue:w,time:p,updateTime:y})}),(P,K)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode(hn,e.mergeProps(P.$props,{hours:e.unref(p).hours,minutes:e.unref(p).minutes,seconds:e.unref(p).seconds,"internal-model-value":P.internalModelValue,"disabled-times-config":e.unref(R),"validate-time":e.unref(D),"onUpdate:hours":K[0]||(K[0]=h=>e.unref(y)(h)),"onUpdate:minutes":K[1]||(K[1]=h=>e.unref(y)(h,!1)),"onUpdate:seconds":K[2]||(K[2]=h=>e.unref(y)(h,!1,!0)),onAmPmChange:K[3]||(K[3]=h=>P.$emit("am-pm-change",h))}),e.createSlots({_:2},[e.renderList(e.unref(i),(h,q)=>({name:h,fn:e.withCtx(A=>[e.renderSlot(P.$slots,h,e.normalizeProps(e.guardReactiveProps(A)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),Ha={class:"dp__month_year_row"},Wa=["aria-label","onClick","onKeydown"],Ua=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Se},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:n,emit:o}){const r=o,a=t,{defaultedTransitions:f,defaultedAriaLabels:i,defaultedMultiCalendars:p,defaultedFilters:w,defaultedConfig:R,defaultedHighlight:y,propDates:D}=fe(a),{transitionName:E,showTransition:P}=Je(f),{buildMatrix:K}=Ve(),{handleMonthYearChange:h,isDisabled:q,updateMonthYear:A}=ta(a,r),{showLeftIcon:L,showRightIcon:N}=it(),S=e.ref(!1),M=e.ref(!1),j=e.ref([null,null,null,null]);e.onMounted(()=>{r("mount")});const J=g=>({get:()=>a[g],set:I=>{const l=g===De.month?De.year:De.month;r("update-month-year",{[g]:I,[l]:a[l]}),g===De.month?V(!0):c(!0)}}),C=e.computed(J(De.month)),F=e.computed(J(De.year)),ne=e.computed(()=>g=>({month:a.month,year:a.year,items:g===De.month?a.months:a.years,instance:a.instance,updateMonthYear:A,toggle:g===De.month?V:c})),v=e.computed(()=>{const g=a.months.find(I=>I.value===a.month);return g||{text:"",value:0}}),z=e.computed(()=>je(a.months,g=>{const I=a.month===g.value,l=Ge(g.value,en(a.year,D.value.minDate),tn(a.year,D.value.maxDate))||w.value.months.includes(g.value),k=sn(y.value,g.value,a.year);return{active:I,disabled:l,highlighted:k}})),X=e.computed(()=>je(a.years,g=>{const I=a.year===g.value,l=Ge(g.value,xe(D.value.minDate),xe(D.value.maxDate))||w.value.years.includes(g.value),k=At(y.value,g.value);return{active:I,disabled:l,highlighted:k}})),T=(g,I)=>{I!==void 0?g.value=I:g.value=!g.value,g.value||r("overlay-closed")},V=(g=!1,I)=>{d(g),T(S,I)},c=(g=!1,I)=>{d(g),T(M,I)},d=g=>{g||r("reset-flow")},x=(g,I)=>{a.arrowNavigation&&(j.value[I]=ye(g),K(j.value,"monthYear"))},ee=e.computed(()=>{var g,I;return[{type:De.month,index:1,toggle:V,modelValue:C.value,updateModelValue:l=>C.value=l,text:v.value.text,showSelectionGrid:S.value,items:z.value,ariaLabel:(g=i.value)==null?void 0:g.openMonthsOverlay},{type:De.year,index:2,toggle:c,modelValue:F.value,updateModelValue:l=>F.value=l,text:a.year,showSelectionGrid:M.value,items:X.value,ariaLabel:(I=i.value)==null?void 0:I.openYearsOverlay}]}),O=e.computed(()=>a.disableYearSelect?[ee.value[0]]:a.yearFirst?[...ee.value].reverse():ee.value);return n({toggleMonthPicker:V,toggleYearPicker:c,handleMonthYearChange:h}),(g,I)=>{var l,k,H;return e.openBlock(),e.createElementBlock("div",Ha,[g.$slots["month-year"]?e.renderSlot(g.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(A),handleMonthYearChange:e.unref(h),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(L)(e.unref(p),t.instance)&&!g.vertical?(e.openBlock(),e.createBlock(et,{key:0,"aria-label":(l=e.unref(i))==null?void 0:l.prevMonth,disabled:e.unref(q)(!1),onActivate:I[0]||(I[0]=u=>e.unref(h)(!1,!0)),onSetRef:I[1]||(I[1]=u=>x(u,0))},{default:e.withCtx(()=>[g.$slots["arrow-left"]?e.renderSlot(g.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(pt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:g.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(O.value,(u,W)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:u.type},[e.createElementVNode("button",{ref_for:!0,ref:Z=>x(Z,W+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":u.ariaLabel,onClick:u.toggle,onKeydown:[e.withKeys(e.withModifiers(u.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(u.toggle,["prevent"]),["space"])]},[g.$slots[u.type]?e.renderSlot(g.$slots,u.type,{key:0,text:u.text,value:a[u.type]}):e.createCommentVNode("",!0),g.$slots[u.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(u.text),1)],64))],40,Wa),e.createVNode(e.Transition,{name:e.unref(E)(u.showSelectionGrid),css:e.unref(P)},{default:e.withCtx(()=>[u.showSelectionGrid?(e.openBlock(),e.createBlock(Fe,{key:0,items:u.items,"arrow-navigation":g.arrowNavigation,"hide-navigation":g.hideNavigation,"is-last":g.autoApply&&!e.unref(R).keepActionRow,"skip-button-ref":!1,config:g.config,type:u.type,"header-refs":[],"esc-close":g.escClose,"menu-wrap-ref":g.menuWrapRef,"text-input":g.textInput,"aria-labels":g.ariaLabels,onSelected:u.updateModelValue,onToggle:u.toggle},e.createSlots({"button-icon":e.withCtx(()=>[g.$slots["calendar-icon"]?e.renderSlot(g.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),g.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Ue),{key:1}))]),_:2},[g.$slots[`${u.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:Z})=>[e.renderSlot(g.$slots,`${u.type}-overlay-value`,{text:Z.text,value:Z.value})]),key:"0"}:void 0,g.$slots[`${u.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${u.type}-overlay`,e.normalizeProps(e.guardReactiveProps(ne.value(u.type))))]),key:"1"}:void 0,g.$slots[`${u.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(g.$slots,`${u.type}-overlay-header`,{toggle:u.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(L)(e.unref(p),t.instance)&&g.vertical?(e.openBlock(),e.createBlock(et,{key:1,"aria-label":(k=e.unref(i))==null?void 0:k.prevMonth,disabled:e.unref(q)(!1),onActivate:I[2]||(I[2]=u=>e.unref(h)(!1,!0))},{default:e.withCtx(()=>[g.$slots["arrow-up"]?e.renderSlot(g.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),g.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ht),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(N)(e.unref(p),t.instance)?(e.openBlock(),e.createBlock(et,{key:2,ref:"rightIcon",disabled:e.unref(q)(!0),"aria-label":(H=e.unref(i))==null?void 0:H.nextMonth,onActivate:I[3]||(I[3]=u=>e.unref(h)(!0,!0)),onSetRef:I[4]||(I[4]=u=>x(u,g.disableYearSelect?2:3))},{default:e.withCtx(()=>[g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.renderSlot(g.$slots,g.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),g.$slots[g.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(g.vertical?e.unref(kt):e.unref(gt)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),ja=["aria-label"],xa={class:"dp__calendar_header",role:"row"},qa={key:0,class:"dp__calendar_header_item",role:"gridcell"},Qa=["aria-label"],Ga=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),Xa=["aria-label"],Ja={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},Za={class:"dp__cell_inner"},Fa=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],er=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Se},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:n,emit:o}){const r=o,a=t,{buildMultiLevelMatrix:f}=Ve(),{defaultedTransitions:i,defaultedConfig:p,defaultedAriaLabels:w,defaultedMultiCalendars:R,defaultedWeekNumbers:y}=fe(a),D=e.ref(null),E=e.ref({bottom:"",left:"",transform:""}),P=e.ref([]),K=e.ref(null),h=e.ref(!0),q=e.ref(""),A=e.ref({startX:0,endX:0,startY:0,endY:0}),L=e.ref([]),N=e.ref({left:"50%"}),S=e.computed(()=>a.calendar?a.calendar(a.mappedDates):a.mappedDates),M=e.computed(()=>a.dayNames?Array.isArray(a.dayNames)?a.dayNames:a.dayNames(a.locale,+a.weekStart):Dn(a.formatLocale,a.locale,+a.weekStart));e.onMounted(()=>{r("mount",{cmp:"calendar",refs:P}),p.value.noSwipe||K.value&&(K.value.addEventListener("touchstart",c,{passive:!1}),K.value.addEventListener("touchend",d,{passive:!1}),K.value.addEventListener("touchmove",x,{passive:!1})),a.monthChangeOnScroll&&K.value&&K.value.addEventListener("wheel",g,{passive:!1})});const j=u=>u?a.vertical?"vNext":"next":a.vertical?"vPrevious":"previous",J=(u,W)=>{if(a.transitions){const Z=be(Pe(_(),a.month,a.year));q.value=pe(be(Pe(_(),u,W)),Z)?i.value[j(!0)]:i.value[j(!1)],h.value=!1,e.nextTick(()=>{h.value=!0})}},C=e.computed(()=>({[a.calendarClassName]:!!a.calendarClassName})),F=e.computed(()=>u=>{const W=Cn(u);return{dp__marker_dot:W.type==="dot",dp__marker_line:W.type==="line"}}),ne=e.computed(()=>u=>ue(u,D.value)),v=e.computed(()=>({dp__calendar:!0,dp__calendar_next:R.value.count>0&&a.instance!==0})),z=e.computed(()=>u=>a.hideOffsetDates?u.current:!0),X=u=>s.format(u,"yyyy-MM-dd"),T=async(u,W,Z)=>{var m,Q;if(r("set-hover-date",u),(Q=(m=u.marker)==null?void 0:m.tooltip)!=null&&Q.length){const ie=ye(P.value[W][Z]);if(ie){const{width:Y,height:B}=ie.getBoundingClientRect();D.value=u.value;let U={left:`${Y/2}px`},oe=-50;if(await e.nextTick(),L.value[0]){const{left:ce,width:se}=L.value[0].getBoundingClientRect();ce<0&&(U={left:"0"},oe=0,N.value.left=`${Y/2}px`),window.innerWidth<ce+se&&(U={right:"0"},oe=0,N.value.left=`${se-Y/2}px`)}E.value={bottom:`${B}px`,...U,transform:`translateX(${oe}%)`},r("tooltip-open",u.marker)}}},V=u=>{D.value&&(D.value=null,E.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),r("tooltip-close",u.marker))},c=u=>{A.value.startX=u.changedTouches[0].screenX,A.value.startY=u.changedTouches[0].screenY},d=u=>{A.value.endX=u.changedTouches[0].screenX,A.value.endY=u.changedTouches[0].screenY,ee()},x=u=>{a.vertical&&!a.inline&&u.preventDefault()},ee=()=>{const u=a.vertical?"Y":"X";Math.abs(A.value[`start${u}`]-A.value[`end${u}`])>10&&r("handle-swipe",A.value[`start${u}`]>A.value[`end${u}`]?"right":"left")},O=(u,W,Z)=>{u&&(Array.isArray(P.value[W])?P.value[W][Z]=u:P.value[W]=[u]),a.arrowNavigation&&f(P.value,"calendar")},g=u=>{a.monthChangeOnScroll&&(u.preventDefault(),r("handle-scroll",u))},I=u=>y.value.type==="local"?s.getWeek(u.value,{weekStartsOn:+a.weekStart}):y.value.type==="iso"?s.getISOWeek(u.value):typeof y.value.type=="function"?y.value.type(u.value):"",l=u=>{const W=u[0];return y.value.hideOnOffsetDates?u.some(Z=>Z.current)?I(W):"":I(W)},k=(u,W)=>{Ne(u,p.value),r("select-date",W)},H=u=>{Ne(u,p.value)};return n({triggerTransition:J}),(u,W)=>{var Z;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(v.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:K,role:"grid",class:e.normalizeClass(C.value),"aria-label":(Z=e.unref(w))==null?void 0:Z.calendarWrap},[e.createElementVNode("div",xa,[u.weekNumbers?(e.openBlock(),e.createElementBlock("div",qa,e.toDisplayString(u.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value,(m,Q)=>{var ie,Y;return e.openBlock(),e.createElementBlock("div",{key:Q,class:"dp__calendar_header_item",role:"gridcell","aria-label":(Y=(ie=e.unref(w))==null?void 0:ie.weekDay)==null?void 0:Y.call(ie,Q)},[u.$slots["calendar-header"]?e.renderSlot(u.$slots,"calendar-header",{key:0,day:m,index:Q}):e.createCommentVNode("",!0),u.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(m),1)],64))],8,Qa)}),128))]),Ga,e.createVNode(e.Transition,{name:q.value,css:!!u.transitions},{default:e.withCtx(()=>{var m;return[h.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((m=e.unref(w))==null?void 0:m.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(S.value,(Q,ie)=>(e.openBlock(),e.createElementBlock("div",{key:ie,class:"dp__calendar_row",role:"row"},[u.weekNumbers?(e.openBlock(),e.createElementBlock("div",Ja,[e.createElementVNode("div",Za,e.toDisplayString(l(Q.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Q.days,(Y,B)=>{var U,oe,ce;return e.openBlock(),e.createElementBlock("div",{id:X(Y.value),ref_for:!0,ref:se=>O(se,ie,B),key:B+ie,role:"gridcell",class:"dp__calendar_item","aria-selected":(Y.classData.dp__active_date||Y.classData.dp__range_start||Y.classData.dp__range_start)??void 0,"aria-disabled":Y.classData.dp__cell_disabled||void 0,"aria-label":(oe=(U=e.unref(w))==null?void 0:U.day)==null?void 0:oe.call(U,Y),tabindex:"0",onClick:e.withModifiers(se=>k(se,Y),["prevent"]),onKeydown:[e.withKeys(se=>u.$emit("select-date",Y),["enter"]),e.withKeys(se=>u.$emit("handle-space",Y),["space"])],onMouseenter:se=>T(Y,ie,B),onMouseleave:se=>V(Y)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",Y.classData])},[u.$slots.day&&z.value(Y)?e.renderSlot(u.$slots,"day",{key:0,day:+Y.text,date:Y.value}):e.createCommentVNode("",!0),u.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(Y.text),1)],64)),Y.marker&&z.value(Y)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[u.$slots.marker?e.renderSlot(u.$slots,"marker",{key:0,marker:Y.marker,day:+Y.text,date:Y.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(F.value(Y.marker)),style:e.normalizeStyle(Y.marker.color?{backgroundColor:Y.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),ne.value(Y.value)?(e.openBlock(),e.createElementBlock("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:L,class:"dp__marker_tooltip",style:e.normalizeStyle(E.value)},[(ce=Y.marker)!=null&&ce.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:H},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(Y.marker.tooltip,(se,ae)=>(e.openBlock(),e.createElementBlock("div",{key:ae,class:"dp__tooltip_text"},[u.$slots["marker-tooltip"]?e.renderSlot(u.$slots,"marker-tooltip",{key:0,tooltip:se,day:Y.value}):e.createCommentVNode("",!0),u.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(se.color?{backgroundColor:se.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(se.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(N.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Fa)}),128))]))),128))],8,Xa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],10,ja)],2)}}}),bn=t=>Array.isArray(t),tr=(t,n,o,r)=>{const a=e.ref([]),f=e.ref(new Date),{modelValue:i,calendars:p,time:w}=Ze(t,n),{defaultedMultiCalendars:R,defaultedStartTime:y,defaultedRange:D,defaultedTz:E,propDates:P}=fe(t),{validateMonthYearInRange:K,isDisabled:h,isDateRangeAllowed:q,checkMinMaxRange:A}=Ie(t),{updateTimeValues:L,getSetDateTime:N,setTime:S,assignStartTime:M,validateTime:j,disabledTimesConfig:J}=kn(t,w,i,r),C=e.computed(()=>b=>p.value[b]?p.value[b].month:0),F=e.computed(()=>b=>p.value[b]?p.value[b].year:0),ne=(b,G,re)=>{var $,te;p.value[b]||(p.value[b]={month:0,year:0}),p.value[b].month=Jt(G)?($=p.value[b])==null?void 0:$.month:G,p.value[b].year=Jt(re)?(te=p.value[b])==null?void 0:te.year:re},v=()=>{t.autoApply&&n("select-date")};e.watch(i,(b,G)=>{JSON.stringify(b)!==JSON.stringify(G)&&T()},{deep:!0}),e.onMounted(()=>{t.shadow||(i.value||(H(),y.value&&M(y.value)),T(!0),t.focusStartDate&&t.startDate&&H())});const z=e.computed(()=>{var b;return(b=t.flow)!=null&&b.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),X=()=>{t.autoApply&&z.value&&n("auto-apply")},T=(b=!1)=>{if(i.value)return Array.isArray(i.value)?(a.value=i.value,g(b)):d(i.value,b);if(R.value.count&&b&&!t.startDate)return c(_(),b)},V=()=>Array.isArray(i.value)&&D.value.enabled?s.getMonth(i.value[0])===s.getMonth(i.value[1]??i.value[0]):!1,c=(b,G=!1)=>{if((!R.value.count||!R.value.static||G)&&ne(0,s.getMonth(b),s.getYear(b)),R.value.count&&(!R.value.solo||!i.value||V()))for(let re=1;re<R.value.count;re++){const $=s.set(_(),{month:C.value(re-1),year:F.value(re-1)}),te=s.add($,{months:1});p.value[re]={month:s.getMonth(te),year:s.getYear(te)}}},d=(b,G)=>{c(b),S("hours",s.getHours(b)),S("minutes",s.getMinutes(b)),S("seconds",s.getSeconds(b)),R.value.count&&G&&k()},x=b=>{if(R.value.count){if(R.value.solo)return 0;const G=s.getMonth(b[0]),re=s.getMonth(b[1]);return Math.abs(re-G)<R.value.count?0:1}return 1},ee=(b,G)=>{b[1]&&D.value.showLastInRange?c(b[x(b)],G):c(b[0],G);const re=($,te)=>[$(b[0]),b[1]?$(b[1]):w[te][1]];S("hours",re(s.getHours,"hours")),S("minutes",re(s.getMinutes,"minutes")),S("seconds",re(s.getSeconds,"seconds"))},O=(b,G)=>{if((D.value.enabled||t.weekPicker)&&!t.multiDates)return ee(b,G);if(t.multiDates&&G){const re=b[b.length-1];return d(re,G)}},g=b=>{const G=i.value;O(G,b),R.value.count&&R.value.solo&&k()},I=(b,G)=>{const re=s.set(_(),{month:C.value(G),year:F.value(G)}),$=b<0?s.addMonths(re,1):s.subMonths(re,1);K(s.getMonth($),s.getYear($),b<0,t.preventMinMaxNavigation)&&(ne(G,s.getMonth($),s.getYear($)),n("update-month-year",{instance:G,month:s.getMonth($),year:s.getYear($)}),R.value.count&&!R.value.solo&&l(G),o())},l=b=>{for(let G=b-1;G>=0;G--){const re=s.subMonths(s.set(_(),{month:C.value(G+1),year:F.value(G+1)}),1);ne(G,s.getMonth(re),s.getYear(re))}for(let G=b+1;G<=R.value.count-1;G++){const re=s.addMonths(s.set(_(),{month:C.value(G-1),year:F.value(G-1)}),1);ne(G,s.getMonth(re),s.getYear(re))}},k=()=>{if(Array.isArray(i.value)&&i.value.length===2){const b=_(_(i.value[1]?i.value[1]:s.addMonths(i.value[0],1))),[G,re]=[s.getMonth(i.value[0]),s.getYear(i.value[0])],[$,te]=[s.getMonth(i.value[1]),s.getYear(i.value[1])];(G!==$||G===$&&re!==te)&&R.value.solo&&ne(1,s.getMonth(b),s.getYear(b))}else i.value&&!Array.isArray(i.value)&&(ne(0,s.getMonth(i.value),s.getYear(i.value)),c(_()))},H=()=>{t.startDate&&(ne(0,s.getMonth(_(t.startDate)),s.getYear(_(t.startDate))),R.value.count&&l(0))},u=(b,G)=>{if(t.monthChangeOnScroll){const re=new Date().getTime()-f.value.getTime(),$=Math.abs(b.deltaY);let te=500;$>1&&(te=100),$>100&&(te=0),re>te&&(f.value=new Date,I(t.monthChangeOnScroll!=="inverse"?-b.deltaY:b.deltaY,G))}},W=(b,G,re=!1)=>{t.monthChangeOnArrows&&t.vertical===re&&Z(b,G)},Z=(b,G)=>{I(b==="right"?-1:1,G)},m=b=>{if(P.value.markers)return rt(b.value,P.value.markers)},Q=(b,G)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[b==0,!0];case"fair":return[b==0||G>b,!0];case"append":return[!1,!1];default:return[!1,!1]}},ie=(b,G,re,$)=>{if(t.sixWeeks&&b.length<6){const te=6-b.length,le=(G.getDay()+7-$)%7,Ae=6-(re.getDay()+7-$)%7,[He,Ut]=Q(le,Ae);for(let We=1;We<=te;We++)if(Ut?!!(We%2)==He:He){const mt=b[0].days[0],jt=Y(s.addDays(mt.value,-7),s.getMonth(G));b.unshift({days:jt})}else{const mt=b[b.length-1],jt=mt.days[mt.days.length-1],wr=Y(s.addDays(jt.value,1),s.getMonth(G));b.push({days:wr})}}return b},Y=(b,G)=>{const re=_(b),$=[];for(let te=0;te<7;te++){const le=s.addDays(re,te),Re=s.getMonth(le)!==G;$.push({text:t.hideOffsetDates&&Re?"":le.getDate(),value:le,current:!Re,classData:{}})}return $},B=(b,G)=>{const re=[],$=new Date(G,b),te=new Date(G,b+1,0),le=t.weekStart,Re=s.startOfWeek($,{weekStartsOn:le}),Ae=He=>{const Ut=Y(He,b);if(re.push({days:Ut}),!re[re.length-1].days.some(We=>ue(be(We.value),be(te)))){const We=s.addDays(He,7);Ae(We)}};return Ae(Re),ie(re,$,te,le)},U=b=>{const G=Ee(_(b.value),w.hours,w.minutes,tt());n("date-update",G),t.multiDates?Vt(G,i,t.multiDatesLimit):i.value=G,r(),e.nextTick().then(()=>{X()})},oe=b=>D.value.noDisabledRange?nn(a.value[0],b).some(re=>h(re)):!1,ce=()=>{a.value=i.value?i.value.slice():[],a.value.length===2&&!(D.value.fixedStart||D.value.fixedEnd)&&(a.value=[])},se=(b,G)=>{const re=[_(b.value),s.addDays(_(b.value),+D.value.autoRange)];q(re)?(G&&ae(b.value),a.value=re):n("invalid-date",b.value)},ae=b=>{const G=s.getMonth(_(b)),re=s.getYear(_(b));if(ne(0,G,re),R.value.count>0)for(let $=1;$<R.value.count;$++){const te=En(s.set(_(b),{year:C.value($-1),month:F.value($-1)}));ne($,te.month,te.year)}},$e=b=>{if(oe(b.value)||!A(b.value,i.value,D.value.fixedStart?0:1))return n("invalid-date",b.value);a.value=gn(_(b.value),i,n,D)},Ce=(b,G)=>{if(ce(),D.value.autoRange)return se(b,G);if(D.value.fixedStart||D.value.fixedEnd)return $e(b);a.value[0]?A(_(b.value),i.value)&&!oe(b.value)?me(_(b.value),_(a.value[0]))?(a.value.unshift(_(b.value)),n("range-end",a.value[0])):(a.value[1]=_(b.value),n("range-end",a.value[1])):(t.autoApply&&n("auto-apply-invalid",b.value),n("invalid-date",b.value)):(a.value[0]=_(b.value),n("range-start",a.value[0]))},tt=(b=!0)=>t.enableSeconds?Array.isArray(w.seconds)?b?w.seconds[0]:w.seconds[1]:w.seconds:0,nt=b=>{a.value[b]=Ee(a.value[b],w.hours[b],w.minutes[b],tt(b!==1))},at=()=>{var b,G;a.value[0]&&a.value[1]&&+((b=a.value)==null?void 0:b[0])>+((G=a.value)==null?void 0:G[1])&&(a.value.reverse(),n("range-start",a.value[0]),n("range-end",a.value[1]))},ve=()=>{a.value.length&&(a.value[0]&&!a.value[1]?nt(0):(nt(0),nt(1),r()),at(),i.value=a.value.slice(),dt(a.value,n,t.autoApply,t.modelAuto))},zt=(b,G=!1)=>{if(h(b.value)||!b.current&&t.hideOffsetDates)return n("invalid-date",b.value);if(!D.value.enabled)return U(b);bn(w.hours)&&bn(w.minutes)&&!t.multiDates&&(Ce(b,G),ve())},Lt=(b,G)=>{var $;ne(b,G.month,G.year),R.value.count&&!R.value.solo&&l(b),n("update-month-year",{instance:b,month:G.month,year:G.year}),o(R.value.solo?b:void 0);const re=($=t.flow)!=null&&$.length?t.flow[t.flowStep]:void 0;!G.fromNav&&(re===Be.month||re===Be.year)&&r()},ft=(b,G)=>{pn({value:b,modelValue:i,range:D.value.enabled,timezone:G?void 0:E.value.timezone}),v(),t.multiCalendars&&e.nextTick().then(()=>T(!0))},Kt=()=>{D.value.enabled?i.value&&Array.isArray(i.value)&&i.value[0]?i.value=me(_(),i.value[0])?[_(),i.value[0]]:[i.value[0],_()]:i.value=[_()]:i.value=_(),v()},Ht=()=>{if(Array.isArray(i.value))if(t.multiDates){const b=Wt();i.value[i.value.length-1]=N(b)}else i.value=i.value.map((b,G)=>b&&N(b,G));else i.value=N(i.value);n("time-update")},Wt=()=>Array.isArray(i.value)&&i.value.length?i.value[i.value.length-1]:null;return{calendars:p,modelValue:i,month:C,year:F,time:w,disabledTimesConfig:J,validateTime:j,getCalendarDays:B,getMarker:m,handleScroll:u,handleSwipe:Z,handleArrow:W,selectDate:zt,updateMonthYear:Lt,presetDate:ft,selectCurrentDate:Kt,updateTime:(b,G=!0,re=!1)=>{L(b,G,re,Ht)}}},nr={key:0},ar=e.defineComponent({__name:"DatePicker",props:{...Se},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,{calendars:f,month:i,year:p,modelValue:w,time:R,disabledTimesConfig:y,validateTime:D,getCalendarDays:E,getMarker:P,handleArrow:K,handleScroll:h,handleSwipe:q,selectDate:A,updateMonthYear:L,presetDate:N,selectCurrentDate:S,updateTime:M}=tr(a,r,ee,O),j=e.useSlots(),{setHoverDate:J,getDayClassData:C,clearHoverDate:F}=la(w,a),{defaultedMultiCalendars:ne}=fe(a),v=e.ref([]),z=e.ref([]),X=e.ref(null),T=we(j,"calendar"),V=we(j,"monthYear"),c=we(j,"timePicker"),d=u=>{a.shadow||r("mount",u)};e.watch(f,()=>{a.shadow||setTimeout(()=>{r("recalculate-position")},0)},{deep:!0});const x=e.computed(()=>u=>E(i.value(u),p.value(u)).map(W=>({...W,days:W.days.map(Z=>(Z.marker=P(Z),Z.classData=C(Z),Z))})));function ee(u){var W;u||u===0?(W=z.value[u])==null||W.triggerTransition(i.value(u),p.value(u)):z.value.forEach((Z,m)=>Z.triggerTransition(i.value(m),p.value(m)))}function O(){r("update-flow-step")}const g=(u,W=!1)=>{A(u,W),a.spaceConfirm&&r("select-date")};return n({clearHoverDate:F,presetDate:N,selectCurrentDate:S,toggleMonthPicker:(u,W,Z=0)=>{var m;(m=v.value[Z])==null||m.toggleMonthPicker(u,W)},toggleYearPicker:(u,W,Z=0)=>{var m;(m=v.value[Z])==null||m.toggleYearPicker(u,W)},toggleTimePicker:(u,W,Z)=>{var m;(m=X.value)==null||m.toggleTimePicker(u,W,Z)},handleArrow:K,updateMonthYear:L,getSidebarProps:()=>({modelValue:w,month:i,year:p,time:R,updateTime:M,updateMonthYear:L,selectDate:A,presetDate:N})}),(u,W)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(ct,{"multi-calendars":e.unref(ne).count,collapse:u.collapse},{default:e.withCtx(({instance:Z,index:m})=>[u.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(Ua,e.mergeProps({key:0,ref:Q=>{Q&&(v.value[m]=Q)},months:e.unref(Qt)(u.formatLocale,u.locale,u.monthNameFormat),years:e.unref(bt)(u.yearRange,u.reverseYears),month:e.unref(i)(Z),year:e.unref(p)(Z),instance:Z},u.$props,{onMount:W[0]||(W[0]=Q=>d(e.unref(Ke).header)),onResetFlow:W[1]||(W[1]=Q=>u.$emit("reset-flow")),onUpdateMonthYear:Q=>e.unref(L)(Z,Q),onOverlayClosed:W[2]||(W[2]=Q=>u.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(V),(Q,ie)=>({name:Q,fn:e.withCtx(Y=>[e.renderSlot(u.$slots,Q,e.normalizeProps(e.guardReactiveProps(Y)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(er,e.mergeProps({ref:Q=>{Q&&(z.value[m]=Q)},"mapped-dates":x.value(Z),month:e.unref(i)(Z),year:e.unref(p)(Z),instance:Z},u.$props,{onSelectDate:Q=>e.unref(A)(Q,Z!==1),onHandleSpace:Q=>g(Q,Z!==1),onSetHoverDate:W[3]||(W[3]=Q=>e.unref(J)(Q)),onHandleScroll:Q=>e.unref(h)(Q,Z),onHandleSwipe:Q=>e.unref(q)(Q,Z),onMount:W[4]||(W[4]=Q=>d(e.unref(Ke).calendar)),onResetFlow:W[5]||(W[5]=Q=>u.$emit("reset-flow")),onTooltipOpen:W[6]||(W[6]=Q=>u.$emit("tooltip-open",Q)),onTooltipClose:W[7]||(W[7]=Q=>u.$emit("tooltip-close",Q))}),e.createSlots({_:2},[e.renderList(e.unref(T),(Q,ie)=>({name:Q,fn:e.withCtx(Y=>[e.renderSlot(u.$slots,Q,e.normalizeProps(e.guardReactiveProps({...Y})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),u.enableTimePicker?(e.openBlock(),e.createElementBlock("div",nr,[u.$slots["time-picker"]?e.renderSlot(u.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(R),updateTime:e.unref(M)}))):(e.openBlock(),e.createBlock(hn,e.mergeProps({key:1,ref_key:"timePickerRef",ref:X},u.$props,{hours:e.unref(R).hours,minutes:e.unref(R).minutes,seconds:e.unref(R).seconds,"internal-model-value":u.internalModelValue,"disabled-times-config":e.unref(y),"validate-time":e.unref(D),onMount:W[8]||(W[8]=Z=>d(e.unref(Ke).timePicker)),"onUpdate:hours":W[9]||(W[9]=Z=>e.unref(M)(Z)),"onUpdate:minutes":W[10]||(W[10]=Z=>e.unref(M)(Z,!1)),"onUpdate:seconds":W[11]||(W[11]=Z=>e.unref(M)(Z,!1,!0)),onResetFlow:W[12]||(W[12]=Z=>u.$emit("reset-flow")),onOverlayClosed:W[13]||(W[13]=Z=>u.$emit("time-picker-close")),onOverlayOpened:W[14]||(W[14]=Z=>u.$emit("time-picker-open",Z)),onAmPmChange:W[15]||(W[15]=Z=>u.$emit("am-pm-change",Z))}),e.createSlots({_:2},[e.renderList(e.unref(c),(Z,m)=>({name:Z,fn:e.withCtx(Q=>[e.renderSlot(u.$slots,Z,e.normalizeProps(e.guardReactiveProps(Q)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):e.createCommentVNode("",!0)],64))}}),rr=(t,n)=>{const o=e.ref(),{defaultedMultiCalendars:r,defaultedConfig:a,defaultedHighlight:f,defaultedRange:i,propDates:p}=fe(t),{modelValue:w,year:R,month:y,calendars:D}=Ze(t,n),{isDisabled:E}=Ie(t),{selectYear:P,groupedYears:K,showYearPicker:h,isDisabled:q,toggleYearPicker:A,handleYearSelect:L,handleYear:N}=yn({modelValue:w,multiCalendars:r,highlight:f,calendars:D,propDates:p,month:y,year:R,props:t,emit:n}),S=(V,c)=>[V,c].map(d=>s.format(d,"MMMM",{locale:t.formatLocale})).join("-"),M=e.computed(()=>V=>w.value?Array.isArray(w.value)?w.value.some(c=>s.isSameQuarter(V,c)):s.isSameQuarter(w.value,V):!1),j=V=>{if(i.value.enabled){if(Array.isArray(w.value)){const c=ue(V,w.value[0])||ue(V,w.value[1]);return lt(w.value,o.value,V)&&!c}return!1}return!1},J=(V,c)=>V.quarter===s.getQuarter(c)&&V.year===s.getYear(c),C=V=>typeof f.value=="function"?f.value({quarter:s.getQuarter(V),year:s.getYear(V)}):!!f.value.quarters.find(c=>J(c,V)),F=e.computed(()=>V=>{const c=s.set(new Date,{year:R.value(V)});return s.eachQuarterOfInterval({start:s.startOfYear(c),end:s.endOfYear(c)}).map(d=>{const x=s.startOfQuarter(d),ee=s.endOfQuarter(d),O=E(d),g=j(x),I=C(x);return{text:S(x,ee),value:x,active:M.value(x),highlighted:I,disabled:O,isBetween:g}})}),ne=V=>{Vt(V,w,t.multiDatesLimit),n("auto-apply",!0)},v=V=>{w.value=Yt(w,V,n),dt(w.value,n,t.autoApply,t.modelAuto)},z=V=>{w.value=V,n("auto-apply")};return{defaultedConfig:a,defaultedMultiCalendars:r,groupedYears:K,year:R,isDisabled:q,quarters:F,showYearPicker:h,modelValue:w,setHoverDate:V=>{o.value=V},selectYear:P,selectQuarter:(V,c,d)=>{if(!d)return D.value[c].month=s.getMonth(s.endOfQuarter(V)),t.multiDates?ne(V):i.value.enabled?v(V):z(V)},toggleYearPicker:A,handleYearSelect:L,handleYear:N}},lr={class:"dp--quarter-items"},or=["disabled","onClick","onMouseover"],sr=e.defineComponent({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Se},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(t,{expose:n,emit:o}){const r=o,a=t,f=e.useSlots(),i=we(f,"yearMode"),{defaultedMultiCalendars:p,defaultedConfig:w,groupedYears:R,year:y,isDisabled:D,quarters:E,modelValue:P,showYearPicker:K,setHoverDate:h,selectQuarter:q,toggleYearPicker:A,handleYearSelect:L,handleYear:N}=rr(a,r);return n({getSidebarProps:()=>({modelValue:P,year:y,selectQuarter:q,handleYearSelect:L,handleYear:N})}),(M,j)=>(e.openBlock(),e.createBlock(ct,{"multi-calendars":e.unref(p).count,collapse:M.collapse,stretch:""},{default:e.withCtx(({instance:J})=>[e.createElementVNode("div",{class:"dp-quarter-picker-wrap",style:e.normalizeStyle({minHeight:`${e.unref(w).modeHeight}px`})},[e.createElementVNode("div",null,[e.createVNode(mn,e.mergeProps(M.$props,{items:e.unref(R)(J),instance:J,"show-year-picker":e.unref(K)[J],year:e.unref(y)(J),"is-disabled":C=>e.unref(D)(J,C),onHandleYear:C=>e.unref(N)(J,C),onYearSelect:C=>e.unref(L)(C,J),onToggleYearPicker:C=>e.unref(A)(J,C==null?void 0:C.flow,C==null?void 0:C.show)}),e.createSlots({_:2},[e.renderList(e.unref(i),(C,F)=>({name:C,fn:e.withCtx(ne=>[e.renderSlot(M.$slots,C,e.normalizeProps(e.guardReactiveProps(ne)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),e.createElementVNode("div",lr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(E)(J),(C,F)=>(e.openBlock(),e.createElementBlock("div",{key:F},[e.createElementVNode("button",{type:"button",class:e.normalizeClass(["dp--qr-btn",{"dp--qr-btn-active":C.active,"dp--qr-btn-between":C.isBetween,"dp--qr-btn-disabled":C.disabled,"dp--highlighted":C.highlighted}]),disabled:C.disabled,onClick:ne=>e.unref(q)(C.value,J,C.disabled),onMouseover:ne=>e.unref(h)(C.value)},[M.$slots.quarter?e.renderSlot(M.$slots,"quarter",{key:0,value:C.value,text:C.text}):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(C.text),1)],64))],42,or)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),ir=["id","aria-label"],ur={key:0,class:"dp--menu-load-container"},cr=[e.createElementVNode("span",{class:"dp--menu-loader"},null,-1)],dr={key:0,class:"dp__sidebar_left"},fr=["onClick","onKeydown"],mr={key:2,class:"dp__sidebar_right"},pr={key:3,class:"dp__action_extra"},wn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ut,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,f=e.ref(null),i=e.computed(()=>{const{openOnTop:B,...U}=a;return{...U,flowStep:C.value,collapse:a.collapse,noOverlayFocus:a.noOverlayFocus,menuWrapRef:f.value}}),{setMenuFocused:p,setShiftKey:w,control:R}=un(),y=e.useSlots(),{defaultedTextInput:D,defaultedInline:E,defaultedConfig:P}=fe(a),K=e.ref(null),h=e.ref(0),q=e.ref(null),A=e.ref(!1),L=e.ref(null);e.onMounted(()=>{if(!a.shadow){A.value=!0,N(),window.addEventListener("resize",N);const B=ye(f);if(B&&!D.value.enabled&&!E.value.enabled&&(p(!0),X()),B){const U=oe=>{P.value.allowPreventDefault&&oe.preventDefault(),Ne(oe,P.value,!0)};B.addEventListener("pointerdown",U),B.addEventListener("mousedown",U)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",N)});const N=()=>{const B=ye(q);B&&(h.value=B.getBoundingClientRect().width)},{arrowRight:S,arrowLeft:M,arrowDown:j,arrowUp:J}=Ve(),{flowStep:C,updateFlowStep:F,childMount:ne,resetFlow:v}=oa(a,r,L),z=e.computed(()=>a.monthPicker?Ma:a.yearPicker?Sa:a.timePicker?Ka:a.quarterPicker?sr:ar),X=()=>{const B=ye(f);B&&B.focus({preventScroll:!0})},T=e.computed(()=>{var B;return((B=L.value)==null?void 0:B.getSidebarProps())||{}}),V=()=>{a.openOnTop&&r("recalculate-position")},c=we(y,"action"),d=e.computed(()=>a.monthPicker||a.yearPicker?we(y,"monthYear"):a.timePicker?we(y,"timePicker"):we(y,"shared")),x=e.computed(()=>a.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),ee=e.computed(()=>({dp__menu_disabled:a.disabled,dp__menu_readonly:a.readonly,"dp-menu-loading":a.loading})),O=e.computed(()=>({dp__menu:!0,dp__menu_index:!E.value.enabled,dp__relative:E.value.enabled,[a.menuClassName]:!!a.menuClassName})),g=B=>{Ne(B,P.value,!0)},I=()=>{a.escClose&&r("close-picker")},l=B=>{if(a.arrowNavigation){if(B==="up")return J();if(B==="down")return j();if(B==="left")return M();if(B==="right")return S()}else B==="left"||B==="up"?Z("handleArrow","left",0,B==="up"):Z("handleArrow","right",0,B==="down")},k=B=>{w(B.shiftKey),!a.disableMonthYearSelect&&B.code==="Tab"&&B.target.classList.contains("dp__menu")&&R.value.shiftKeyInMenu&&(B.preventDefault(),Ne(B,P.value,!0),r("close-picker"))},H=()=>{X(),r("time-picker-close")},u=B=>{var U,oe,ce;(U=L.value)==null||U.toggleTimePicker(!1,!1),(oe=L.value)==null||oe.toggleMonthPicker(!1,!1,B),(ce=L.value)==null||ce.toggleYearPicker(!1,!1,B)},W=(B,U=0)=>{var oe,ce,se;return B==="month"?(oe=L.value)==null?void 0:oe.toggleMonthPicker(!1,!0,U):B==="year"?(ce=L.value)==null?void 0:ce.toggleYearPicker(!1,!0,U):B==="time"?(se=L.value)==null?void 0:se.toggleTimePicker(!0,!1):u(U)},Z=(B,...U)=>{var oe,ce;(oe=L.value)!=null&&oe[B]&&((ce=L.value)==null||ce[B](...U))},m=()=>{Z("selectCurrentDate")},Q=(B,U)=>{Z("presetDate",B,U)},ie=()=>{Z("clearHoverDate")};return n({updateMonthYear:(B,U)=>{Z("updateMonthYear",B,U)},switchView:W}),(B,U)=>{var oe,ce,se;return e.openBlock(),e.createElementBlock("div",{id:B.uid?`dp-menu-${B.uid}`:void 0,ref_key:"dpMenuRef",ref:f,tabindex:"0",role:"dialog","aria-label":(oe=B.ariaLabels)==null?void 0:oe.menu,class:e.normalizeClass(O.value),onMouseleave:ie,onClick:g,onKeydown:[e.withKeys(I,["esc"]),U[18]||(U[18]=e.withKeys(e.withModifiers(ae=>l("left"),["prevent"]),["left"])),U[19]||(U[19]=e.withKeys(e.withModifiers(ae=>l("up"),["prevent"]),["up"])),U[20]||(U[20]=e.withKeys(e.withModifiers(ae=>l("down"),["prevent"]),["down"])),U[21]||(U[21]=e.withKeys(e.withModifiers(ae=>l("right"),["prevent"]),["right"])),k]},[(B.disabled||B.readonly)&&e.unref(E).enabled||B.loading?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(ee.value)},[B.loading?(e.openBlock(),e.createElementBlock("div",ur,cr)):e.createCommentVNode("",!0)],2)):e.createCommentVNode("",!0),!e.unref(E).enabled&&!B.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(x.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:q,class:e.normalizeClass({dp__menu_content_wrapper:((ce=B.presetDates)==null?void 0:ce.length)||!!B.$slots["left-sidebar"]||!!B.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":t.collapse&&((se=B.presetDates)==null?void 0:se.length)||!!B.$slots["left-sidebar"]||!!B.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${h.value}px`})},[B.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",dr,[e.renderSlot(B.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(T.value)))])):e.createCommentVNode("",!0),B.presetDates.length?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass({"dp--preset-dates-collapsed":t.collapse,"dp--preset-dates":!0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(B.presetDates,(ae,$e)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:$e},[ae.slot?e.renderSlot(B.$slots,ae.slot,{key:0,presetDate:Q,label:ae.label,value:ae.value}):(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",style:e.normalizeStyle(ae.style||{}),class:e.normalizeClass(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":t.collapse}]),onClick:e.withModifiers(Ce=>Q(ae.value,ae.noTz),["prevent"]),onKeydown:[e.withKeys(e.withModifiers(Ce=>Q(ae.value,ae.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(Ce=>Q(ae.value,ae.noTz),["prevent"]),["space"])]},e.toDisplayString(ae.label),47,fr))],64))),128))],2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"calendarWrapperRef",ref:K,class:"dp__instance_calendar",role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(z.value),e.mergeProps({ref_key:"dynCmpRef",ref:L},i.value,{"flow-step":e.unref(C),onMount:e.unref(ne),onUpdateFlowStep:e.unref(F),onResetFlow:e.unref(v),onFocusMenu:X,onSelectDate:U[0]||(U[0]=ae=>B.$emit("select-date")),onDateUpdate:U[1]||(U[1]=ae=>B.$emit("date-update",ae)),onTooltipOpen:U[2]||(U[2]=ae=>B.$emit("tooltip-open",ae)),onTooltipClose:U[3]||(U[3]=ae=>B.$emit("tooltip-close",ae)),onAutoApply:U[4]||(U[4]=ae=>B.$emit("auto-apply",ae)),onRangeStart:U[5]||(U[5]=ae=>B.$emit("range-start",ae)),onRangeEnd:U[6]||(U[6]=ae=>B.$emit("range-end",ae)),onInvalidFixedRange:U[7]||(U[7]=ae=>B.$emit("invalid-fixed-range",ae)),onTimeUpdate:U[8]||(U[8]=ae=>B.$emit("time-update")),onAmPmChange:U[9]||(U[9]=ae=>B.$emit("am-pm-change",ae)),onTimePickerOpen:U[10]||(U[10]=ae=>B.$emit("time-picker-open",ae)),onTimePickerClose:H,onRecalculatePosition:V,onUpdateMonthYear:U[11]||(U[11]=ae=>B.$emit("update-month-year",ae)),onAutoApplyInvalid:U[12]||(U[12]=ae=>B.$emit("auto-apply-invalid",ae)),onInvalidDate:U[13]||(U[13]=ae=>B.$emit("invalid-date",ae)),"onUpdate:internalModelValue":U[14]||(U[14]=ae=>B.$emit("update:internal-model-value",ae))}),e.createSlots({_:2},[e.renderList(d.value,(ae,$e)=>({name:ae,fn:e.withCtx(Ce=>[e.renderSlot(B.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Ce})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),B.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",mr,[e.renderSlot(B.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(T.value)))])):e.createCommentVNode("",!0),B.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",pr,[B.$slots["action-extra"]?e.renderSlot(B.$slots,"action-extra",{key:0,selectCurrentDate:m}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!B.autoApply||e.unref(P).keepActionRow?(e.openBlock(),e.createBlock(ma,e.mergeProps({key:2,"menu-mount":A.value},i.value,{"calendar-width":h.value,onClosePicker:U[15]||(U[15]=ae=>B.$emit("close-picker")),onSelectDate:U[16]||(U[16]=ae=>B.$emit("select-date")),onInvalidSelect:U[17]||(U[17]=ae=>B.$emit("invalid-select")),onSelectNow:m}),e.createSlots({_:2},[e.renderList(e.unref(c),(ae,$e)=>({name:ae,fn:e.withCtx(Ce=>[e.renderSlot(B.$slots,ae,e.normalizeProps(e.guardReactiveProps({...Ce})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,ir)}}}),gr=typeof window<"u"?window:void 0,Ot=()=>{},yr=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,hr=(t,n,o,r)=>{if(!t)return Ot;let a=Ot;const f=e.watch(()=>e.unref(t),p=>{a(),p&&(p.addEventListener(n,o,r),a=()=>{p.removeEventListener(n,o,r),a=Ot})},{immediate:!0,flush:"post"}),i=()=>{f(),a()};return yr(i),i},kr=(t,n,o,r={})=>{const{window:a=gr,event:f="pointerdown"}=r;return a?hr(a,f,p=>{const w=ye(t),R=ye(n);!w||!R||w===p.target||p.composedPath().includes(w)||p.composedPath().includes(R)||o(p)},{passive:!0}):void 0},br=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ut},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(t,{expose:n,emit:o}){const r=o,a=t,f=e.useSlots(),i=e.ref(!1),p=e.toRef(a,"modelValue"),w=e.toRef(a,"timezone"),R=e.ref(null),y=e.ref(null),D=e.ref(null),E=e.ref(!1),P=e.ref(null),K=e.ref(!1),h=e.ref(!1),q=e.ref(!1),{setMenuFocused:A,setShiftKey:L}=un(),{clearArrowNav:N}=Ve(),{validateDate:S,isValidTime:M}=Ie(a),{defaultedTransitions:j,defaultedTextInput:J,defaultedInline:C,defaultedConfig:F,defaultedRange:ne}=fe(a),{menuTransition:v,showTransition:z}=Je(j);e.onMounted(()=>{l(a.modelValue),e.nextTick().then(()=>{if(!C.value.enabled){const $=ee(P.value);$==null||$.addEventListener("scroll",Y),window==null||window.addEventListener("resize",B)}}),C.value.enabled&&(i.value=!0),window==null||window.addEventListener("keyup",U),window==null||window.addEventListener("keydown",oe)}),e.onUnmounted(()=>{if(!C.value.enabled){const $=ee(P.value);$==null||$.removeEventListener("scroll",Y),window==null||window.removeEventListener("resize",B)}window==null||window.removeEventListener("keyup",U),window==null||window.removeEventListener("keydown",oe)});const X=we(f,"all",a.presetDates),T=we(f,"input");e.watch([p,w],()=>{l(p.value)},{deep:!0});const{openOnTop:V,menuStyle:c,xCorrect:d,setMenuPosition:x,getScrollableParent:ee,shadowRender:O}=na({menuRef:R,menuRefInner:y,inputRef:D,pickerWrapperRef:P,inline:C,emit:r,props:a,slots:f}),{inputValue:g,internalModelValue:I,parseExternalModelValue:l,emitModelValue:k,formatInputValue:H,checkBeforeEmit:u}=ea(r,a,E),W=e.computed(()=>({dp__main:!0,dp__theme_dark:a.dark,dp__theme_light:!a.dark,dp__flex_display:C.value.enabled,"dp--flex-display-collapsed":q.value,dp__flex_display_with_input:C.value.input})),Z=e.computed(()=>a.dark?"dp__theme_dark":"dp__theme_light"),m=e.computed(()=>({to:typeof a.teleport=="boolean"?"body":a.teleport,disabled:!a.teleport||C.value.enabled})),Q=e.computed(()=>({class:"dp__outer_menu_wrap"})),ie=e.computed(()=>C.value.enabled&&(a.timePicker||a.monthPicker||a.yearPicker||a.quarterPicker)),Y=()=>{i.value&&(F.value.closeOnScroll?ve():x())},B=()=>{var te;i.value&&x();const $=(te=y.value)==null?void 0:te.$el.getBoundingClientRect().width;q.value=document.body.offsetWidth<=$},U=$=>{$.key==="Tab"&&!C.value.enabled&&!a.teleport&&F.value.tabOutClosesMenu&&(P.value.contains(document.activeElement)||ve()),h.value=$.shiftKey},oe=$=>{h.value=$.shiftKey},ce=()=>{!a.disabled&&!a.readonly&&(O(wn,a),x(!1),i.value=!0,i.value&&r("open"),i.value||at(),l(a.modelValue))},se=()=>{var $;g.value="",at(),($=D.value)==null||$.setParsedDate(null),r("update:model-value",null),r("update:model-timezone-value",null),r("cleared"),F.value.closeOnClearValue&&ve()},ae=()=>{const $=I.value;return!$||!Array.isArray($)&&S($)?!0:Array.isArray($)?a.multiDates||$.length===2&&S($[0])&&S($[1])?!0:ne.value.partialRange&&!a.timePicker?S($[0]):!1:!1},$e=()=>{u()&&ae()?(k(),ve()):r("invalid-select",I.value)},Ce=$=>{tt(),k(),F.value.closeOnAutoApply&&!$&&ve()},tt=()=>{D.value&&J.value.enabled&&D.value.setParsedDate(I.value)},nt=($=!1)=>{a.autoApply&&M(I.value)&&ae()&&(ne.value.enabled&&Array.isArray(I.value)?(ne.value.partialRange||I.value.length===2)&&Ce($):Ce($))},at=()=>{J.value.enabled||(I.value=null)},ve=()=>{C.value.enabled||(i.value&&(i.value=!1,d.value=!1,A(!1),L(!1),N(),r("closed"),g.value&&l(p.value)),at(),r("blur"))},zt=($,te,le=!1)=>{if(!$){I.value=null;return}const Re=Array.isArray($)?!$.some(He=>!S(He)):S($),Ae=M($);Re&&Ae&&(I.value=$,te&&(K.value=le,$e(),r("text-submit")))},Lt=()=>{a.autoApply&&M(I.value)&&k(),tt()},ft=()=>i.value?ve():ce(),Kt=$=>{I.value=$},Ht=()=>{J.value.enabled&&(E.value=!0,H()),r("focus")},Wt=()=>{if(J.value.enabled&&(E.value=!1,l(a.modelValue),K.value)){const $=An(P.value,h.value);$==null||$.focus()}r("blur")},vn=$=>{y.value&&y.value.updateMonthYear(0,{month:Xt($.month),year:Xt($.year)})},b=$=>{l($??a.modelValue)},G=($,te)=>{var le;(le=y.value)==null||le.switchView($,te)},re=$=>F.value.onClickOutside?F.value.onClickOutside($):ve();return kr(R,D,()=>re(ae)),n({closeMenu:ve,selectDate:$e,clearValue:se,openMenu:ce,onScroll:Y,formatInputValue:H,updateInternalModelValue:Kt,setMonthYear:vn,parseModel:b,switchView:G,toggleMenu:ft}),($,te)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"pickerWrapperRef",ref:P,class:e.normalizeClass(W.value),"data-datepicker-instance":""},[e.createVNode(ca,e.mergeProps({ref_key:"inputRef",ref:D,"input-value":e.unref(g),"onUpdate:inputValue":te[0]||(te[0]=le=>e.isRef(g)?g.value=le:null),"is-menu-open":i.value},$.$props,{onClear:se,onOpen:ce,onSetInputDate:zt,onSetEmptyDate:e.unref(k),onSelectDate:$e,onToggle:ft,onClose:ve,onFocus:Ht,onBlur:Wt,onRealBlur:te[1]||(te[1]=le=>E.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(T),(le,Re)=>({name:le,fn:e.withCtx(Ae=>[e.renderSlot($.$slots,le,e.normalizeProps(e.guardReactiveProps(Ae)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(e.openBlock(),e.createBlock(e.resolveDynamicComponent($.teleport?e.Teleport:"div"),e.normalizeProps(e.guardReactiveProps(m.value)),{default:e.withCtx(()=>[e.createVNode(e.Transition,{name:e.unref(v)(e.unref(V)),css:e.unref(z)&&!e.unref(C).enabled},{default:e.withCtx(()=>[i.value?(e.openBlock(),e.createElementBlock("div",e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:R},Q.value,{class:{"dp--menu-wrapper":!e.unref(C).enabled},style:e.unref(C).enabled?void 0:e.unref(c)}),[e.createVNode(wn,e.mergeProps({ref_key:"dpMenuRef",ref:y},$.$props,{"internal-model-value":e.unref(I),"onUpdate:internalModelValue":te[2]||(te[2]=le=>e.isRef(I)?I.value=le:null),class:{[Z.value]:!0,"dp--menu-wrapper":$.teleport},"open-on-top":e.unref(V),"no-overlay-focus":ie.value,collapse:q.value,onClosePicker:ve,onSelectDate:$e,onAutoApply:nt,onTimeUpdate:Lt,onFlowStep:te[3]||(te[3]=le=>$.$emit("flow-step",le)),onUpdateMonthYear:te[4]||(te[4]=le=>$.$emit("update-month-year",le)),onInvalidSelect:te[5]||(te[5]=le=>$.$emit("invalid-select",e.unref(I))),onAutoApplyInvalid:te[6]||(te[6]=le=>$.$emit("invalid-select",le)),onInvalidFixedRange:te[7]||(te[7]=le=>$.$emit("invalid-fixed-range",le)),onRecalculatePosition:e.unref(x),onTooltipOpen:te[8]||(te[8]=le=>$.$emit("tooltip-open",le)),onTooltipClose:te[9]||(te[9]=le=>$.$emit("tooltip-close",le)),onTimePickerOpen:te[10]||(te[10]=le=>$.$emit("time-picker-open",le)),onTimePickerClose:te[11]||(te[11]=le=>$.$emit("time-picker-close",le)),onAmPmChange:te[12]||(te[12]=le=>$.$emit("am-pm-change",le)),onRangeStart:te[13]||(te[13]=le=>$.$emit("range-start",le)),onRangeEnd:te[14]||(te[14]=le=>$.$emit("range-end",le)),onDateUpdate:te[15]||(te[15]=le=>$.$emit("date-update",le)),onInvalidDate:te[16]||(te[16]=le=>$.$emit("invalid-date",le))}),e.createSlots({_:2},[e.renderList(e.unref(X),(le,Re)=>({name:le,fn:e.withCtx(Ae=>[e.renderSlot($.$slots,le,e.normalizeProps(e.guardReactiveProps({...Ae})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):e.createCommentVNode("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),It=(()=>{const t=br;return t.install=n=>{n.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"}))).forEach(([t,n])=>{t!=="default"&&(It[t]=n)}),It});
